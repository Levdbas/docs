<p>Timber is designed to play nicely with (the amazing) <a href="http://www.advancedcustomfields.com/">Advanced Custom Fields</a>. It's not a requirement, of course.</p><p>While data saved by ACF is available via <code>{{ post.my_acf_field }}</code> you will often need to do some additional work to get back the <em>kind</em> of data you want. For example, images are stored as image ID#s which you might want to translate into a specific image object. Read on to learn more about those specific exceptions.</p><h2 id="wysiwyg-field-and-other-requiring-text">WYSIWYG field (and other requiring text) <a class="directLink" href="#wysiwyg-field-and-other-requiring-text">#</a></h2><pre class="language-twig"><code class="language-twig"><span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span></span><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">post</span><span class="token punctuation">.</span><span class="token property">title</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>intro-text<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span><br>     <span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">post</span><span class="token punctuation">.</span><span class="token property">meta</span><span class="token punctuation">(</span><span class="token string"><span class="token punctuation">'</span>my_wysiwyg_field<span class="token punctuation">'</span></span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><br><span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></span></code></pre><p>This will apply your expected paragraph breaks and other pre-processing to the text. In the past we used <code>{{ post.get_field('my_wysiwyg_field') }}</code>, but this is now deprecated. Use <code>{{ post.meta('my_wysiwyg_field') }}</code>.</p><h2 id="image-field">Image field <a class="directLink" href="#image-field">#</a></h2><p>You can retrieve an image from a custom field, then use it in a Twig template. The most reliable approach is this: When setting up your custom fields you'll want to save the <code>image_id</code> to the field. The image object, url, etc. <em>will</em> work but it's not as fool-proof.</p><h3 id="the-quick-way-for-most-situations">The quick way (for most situations) <a class="directLink" href="#the-quick-way-for-most-situations">#</a></h3><pre class="language-twig"><code class="language-twig"><span class="token other">&lt;img src="</span><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">Image</span><span class="token punctuation">(</span><span class="token property">post</span><span class="token punctuation">.</span><span class="token property">meta</span><span class="token punctuation">(</span><span class="token string"><span class="token punctuation">'</span>hero_image<span class="token punctuation">'</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property">src</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><span class="token other">" /></span></code></pre><h3 id="the-long-way-for-some-special-situations">The long way (for some special situations) <a class="directLink" href="#the-long-way-for-some-special-situations">#</a></h3><p>This is where we'll start in PHP.</p><pre class="language-php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><br><span class="token comment">/* single.php */</span><br><span class="token variable">$post</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Timber<span class="token punctuation">\</span>Post</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$post</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">hero_image</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">strlen</span><span class="token punctuation">(</span><span class="token variable">$post</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">hero_image</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>	<span class="token variable">$post</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">hero_image</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Timber<span class="token punctuation">\</span>Image</span><span class="token punctuation">(</span><span class="token variable">$post</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">hero_image</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><span class="token variable">$data</span> <span class="token operator">=</span> Timber<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">context</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'post'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token variable">$post</span><span class="token punctuation">;</span><br>Timber<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'single.twig'</span><span class="token punctuation">,</span> <span class="token variable">$data</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre><p><code>Timber\Image</code> should be initialized using a WordPress image ID#. It can also take URLs and image objects, but that requires extra processing.</p><p>You can now use all the above functions to transform your custom images in the same way, the format will be:</p><pre class="language-twig"><code class="language-twig"><span class="token other">&lt;img src="</span><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">post</span><span class="token punctuation">.</span><span class="token property">hero_image</span><span class="token punctuation">.</span><span class="token property">src</span> <span class="token operator">|</span> <span class="token property">resize</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><span class="token other">" /></span></code></pre><hr><h2 id="gallery-field">Gallery field <a class="directLink" href="#gallery-field">#</a></h2><pre class="language-twig"><code class="language-twig"><span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">for</span></span> <span class="token property">image</span> <span class="token operator">in</span> <span class="token property">post</span><span class="token punctuation">.</span><span class="token property">meta</span><span class="token punctuation">(</span><span class="token string"><span class="token punctuation">'</span>gallery<span class="token punctuation">'</span></span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">%}</span></span></span><br>    <span class="token other">&lt;img src="</span><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">Image</span><span class="token punctuation">(</span><span class="token property">image</span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><span class="token other">" /></span><br><span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">endfor</span></span> <span class="token rd"><span class="token punctuation">%}</span></span></span></code></pre><hr><h2 id="group-field">Group field <a class="directLink" href="#group-field">#</a></h2><pre class="language-twig"><code class="language-twig"><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">post</span><span class="token punctuation">.</span><span class="token property">meta</span><span class="token punctuation">(</span><span class="token string"><span class="token punctuation">'</span>group<span class="token punctuation">'</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property">first_field</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><br><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">post</span><span class="token punctuation">.</span><span class="token property">meta</span><span class="token punctuation">(</span><span class="token string"><span class="token punctuation">'</span>group<span class="token punctuation">'</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property">second_field</span> <span class="token rd"><span class="token punctuation">}}</span></span></span></code></pre><p>or</p><pre class="language-twig"><code class="language-twig"><span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">set</span></span> <span class="token property">group</span> <span class="token operator">=</span> <span class="token property">post</span><span class="token punctuation">.</span><span class="token property">meta</span><span class="token punctuation">(</span><span class="token string"><span class="token punctuation">'</span>group<span class="token punctuation">'</span></span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">%}</span></span></span><br><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">group</span><span class="token punctuation">.</span><span class="token property">first_field</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><br><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">group</span><span class="token punctuation">.</span><span class="token property">second_field</span> <span class="token rd"><span class="token punctuation">}}</span></span></span></code></pre><hr><h2 id="relationship-field">Relationship field <a class="directLink" href="#relationship-field">#</a></h2><p>The post data returned from a relationship field will not contain the Timber methods needed for easy handling inside of your Twig file. To get these, you'll need to convert them into a proper Timber <code>Post</code> object like so:</p><pre class="language-twig"><code class="language-twig"><span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">for</span></span> <span class="token property">item</span> <span class="token operator">in</span> <span class="token property">Post</span><span class="token punctuation">(</span><span class="token property">post</span><span class="token punctuation">.</span><span class="token property">relationship_field</span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">%}</span></span></span> <br>   <span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">item</span><span class="token punctuation">.</span><span class="token property">title</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><br>   <span class="token comment">{# Do something with item #}</span><br><span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">endfor</span></span> <span class="token rd"><span class="token punctuation">%}</span></span></span></code></pre><hr><h2 id="repeater-field">Repeater field <a class="directLink" href="#repeater-field">#</a></h2><p>You can access repeater fields within twig files:</p><pre class="language-twig"><code class="language-twig"><span class="token comment">{# single.twig #}</span><br><span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span></span><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">post</span><span class="token punctuation">.</span><span class="token property">title</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>my-list<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span><br>	<span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">for</span></span> <span class="token property">item</span> <span class="token operator">in</span> <span class="token property">post</span><span class="token punctuation">.</span><span class="token property">meta</span><span class="token punctuation">(</span><span class="token string"><span class="token punctuation">'</span>my_repeater<span class="token punctuation">'</span></span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">%}</span></span></span><br>		<span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>item<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">></span></span></span><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">item</span><span class="token punctuation">.</span><span class="token property">name</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">></span></span><br>			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h6</span><span class="token punctuation">></span></span></span><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">item</span><span class="token punctuation">.</span><span class="token property">info</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h6</span><span class="token punctuation">></span></span><br>			&lt;img src="</span><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">Image</span><span class="token punctuation">(</span><span class="token property">item</span><span class="token punctuation">.</span><span class="token property">picture</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property">src</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><span class="token other">" /><br>		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></span><br>	<span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">endfor</span></span> <span class="token rd"><span class="token punctuation">%}</span></span></span><br><span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></span></code></pre><h3 id="nested-repeater-fields">Nested Repeater fields <a class="directLink" href="#nested-repeater-fields">#</a></h3><p>When you run <code>get_field</code> on an outer ACF field, everything inside is ready to be traversed. You can refer to nested fields via item_outer.inner_repeater</p><pre class="language-twig"><code class="language-twig"><span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">for</span></span> <span class="token property">item_outer</span> <span class="token operator">in</span> <span class="token property">post</span><span class="token punctuation">.</span><span class="token property">meta</span><span class="token punctuation">(</span><span class="token string"><span class="token punctuation">'</span>outer<span class="token punctuation">'</span></span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">%}</span></span></span><br>     <span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span><span class="token property">item_outer</span><span class="token punctuation">.</span><span class="token property">title</span><span class="token rd"><span class="token punctuation">}}</span></span></span><br><br>     <span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">for</span></span> <span class="token property">item_inner</span> <span class="token operator">in</span> <span class="token property">item_outer</span><span class="token punctuation">.</span><span class="token property">inner_repeater</span> <span class="token rd"><span class="token punctuation">%}</span></span></span><br>          <span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">item_inner</span><span class="token punctuation">.</span><span class="token property">title</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><br>     <span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">endfor</span></span> <span class="token rd"><span class="token punctuation">%}</span></span></span><br><br><span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">endfor</span></span> <span class="token rd"><span class="token punctuation">%}</span></span></span></code></pre><h3 id="troubleshooting-repeaters">Troubleshooting Repeaters <a class="directLink" href="#troubleshooting-repeaters">#</a></h3><p>A common problem in working with repeaters is that you should only call the <code>meta</code> method <strong>once</strong> on an item. In other words if you have a field inside a field (for example, a relationship inside a repeater or a repeater inside a repeater, <strong>do not</strong> call <code>meta</code> on the inner field). More:</p><p><strong>DON'T DO THIS: (Bad)</strong></p><pre class="language-twig"><code class="language-twig"><span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">for</span></span> <span class="token property">gear</span> <span class="token operator">in</span> <span class="token property">post</span><span class="token punctuation">.</span><span class="token property">meta</span><span class="token punctuation">(</span><span class="token string"><span class="token punctuation">'</span>gear_items<span class="token punctuation">'</span></span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">%}</span></span></span><br>    <span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span></span> <span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">gear</span><span class="token punctuation">.</span><span class="token property">brand_name</span> <span class="token rd"><span class="token punctuation">}}</span></span></span> <span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span></span><br>    <span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">for</span></span> <span class="token property">gear_feature</span> <span class="token operator">in</span> <span class="token property">gear</span><span class="token punctuation">.</span><span class="token property">meta</span><span class="token punctuation">(</span><span class="token string"><span class="token punctuation">'</span>features<span class="token punctuation">'</span></span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">%}</span></span></span><br>        <span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span></span> <span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">gear_feature</span> <span class="token rd"><span class="token punctuation">}}</span></span></span> <span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span></span><br>    <span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">endfor</span></span> <span class="token rd"><span class="token punctuation">%}</span></span></span><br><span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">endfor</span></span> <span class="token rd"><span class="token punctuation">%}</span></span></span></code></pre><p><strong>DO THIS: (Good)</strong></p><pre class="language-twig"><code class="language-twig"><span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">for</span></span> <span class="token property">gear</span> <span class="token operator">in</span> <span class="token property">post</span><span class="token punctuation">.</span><span class="token property">meta</span><span class="token punctuation">(</span><span class="token string"><span class="token punctuation">'</span>gear_items<span class="token punctuation">'</span></span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">%}</span></span></span><br>    <span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span></span> <span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">gear</span><span class="token punctuation">.</span><span class="token property">brand_name</span> <span class="token rd"><span class="token punctuation">}}</span></span></span> <span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span></span><br>    <span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">for</span></span> <span class="token property">gear_feature</span> <span class="token operator">in</span> <span class="token property">gear</span><span class="token punctuation">.</span><span class="token property">features</span> <span class="token rd"><span class="token punctuation">%}</span></span></span><br>        <span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span></span> <span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">gear_feature</span> <span class="token rd"><span class="token punctuation">}}</span></span></span> <span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span></span><br>    <span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">endfor</span></span> <span class="token rd"><span class="token punctuation">%}</span></span></span><br><span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">endfor</span></span> <span class="token rd"><span class="token punctuation">%}</span></span></span></code></pre><hr><h2 id="flexible-content-field">Flexible Content field <a class="directLink" href="#flexible-content-field">#</a></h2><p>Similar to repeaters, get the field by the name of the flexible content field:</p><pre class="language-twig"><code class="language-twig"><span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">for</span></span> <span class="token property">media_item</span> <span class="token operator">in</span> <span class="token property">post</span><span class="token punctuation">.</span><span class="token property">meta</span><span class="token punctuation">(</span><span class="token string"><span class="token punctuation">'</span>media_set<span class="token punctuation">'</span></span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">%}</span></span></span><br>	<span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">if</span></span> <span class="token property">media_item</span><span class="token punctuation">.</span><span class="token property">acf_fc_layout</span> <span class="token operator">==</span> <span class="token string"><span class="token punctuation">'</span>image_set<span class="token punctuation">'</span></span> <span class="token rd"><span class="token punctuation">%}</span></span></span><br>		<span class="token other">&lt;img src="</span><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">Image</span><span class="token punctuation">(</span><span class="token property">media_item</span><span class="token punctuation">.</span><span class="token property">image</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property">src</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><span class="token other">" /><br>		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>caption<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">Image</span><span class="token punctuation">(</span><span class="token property">media_item</span><span class="token punctuation">.</span><span class="token property">image</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property">caption</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><br>		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>aside</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>notes<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">media_item</span><span class="token punctuation">.</span><span class="token property">notes</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>aside</span><span class="token punctuation">></span></span></span><br>	<span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">elseif</span></span> <span class="token property">media_item</span><span class="token punctuation">.</span><span class="token property">acf_fc_layout</span> <span class="token operator">==</span> <span class="token string"><span class="token punctuation">'</span>video_set<span class="token punctuation">'</span></span> <span class="token rd"><span class="token punctuation">%}</span></span></span><br>		<span class="token other">&lt;iframe width="560" height="315" src="http://www.youtube.com/embed/</span><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">media_item</span><span class="token punctuation">.</span><span class="token property">youtube_id</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><span class="token other">" frameborder="0" allowfullscreen><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">></span></span><br>		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>caption<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">media_item</span><span class="token punctuation">.</span><span class="token property">caption</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span></span><br>	<span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">endif</span></span> <span class="token rd"><span class="token punctuation">%}</span></span></span><br><span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">endfor</span></span> <span class="token rd"><span class="token punctuation">%}</span></span></span></code></pre><hr><h2 id="options-page">Options Page <a class="directLink" href="#options-page">#</a></h2><pre class="language-php"><code class="language-php">	<span class="token php language-php"><span class="token delimiter important">&lt;?php</span><br>	<span class="token variable">$context</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'site_copyright_info'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">get_field</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'copyright_info'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'options'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>	Timber<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'index.twig'</span><span class="token punctuation">,</span> <span class="token variable">$context</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre><pre class="language-twig"><code class="language-twig">	<span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span><span class="token punctuation">></span></span></span><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span><span class="token property">site_copyright_info</span><span class="token rd"><span class="token punctuation">}}</span></span></span><span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">></span></span></span></code></pre><h3 id="get-all-info-from-your-options-page">Get all info from your options page <a class="directLink" href="#get-all-info-from-your-options-page">#</a></h3><pre class="language-php"><code class="language-php">	<span class="token php language-php"><span class="token delimiter important">&lt;?php</span><br>	<span class="token variable">$context</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'options'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">get_fields</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'options'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>	Timber<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'index.twig'</span><span class="token punctuation">,</span> <span class="token variable">$context</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre><p>ACF Pro has a built in options page, and changes the <code>get_fields('options')</code> to <code>get_fields('option')</code>.</p><pre class="language-twig"><code class="language-twig">	<span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span><span class="token punctuation">></span></span></span><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">options</span><span class="token punctuation">.</span><span class="token property">copyright_info</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">></span></span></span></code></pre><h3 id="use-options-info-site-wide">Use options info site wide <a class="directLink" href="#use-options-info-site-wide">#</a></h3><p>To use any options fields site wide, add the <code>option</code> context to your functions.php file</p><pre class="language-php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><br><span class="token comment">/* functions.php */</span><br><span class="token function">add_filter</span><span class="token punctuation">(</span> <span class="token single-quoted-string string">'timber_context'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'mytheme_timber_context'</span>  <span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">function</span> <span class="token function">mytheme_timber_context</span><span class="token punctuation">(</span> <span class="token variable">$context</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token variable">$context</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'options'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">get_fields</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'option'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">return</span> <span class="token variable">$context</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></span></code></pre><p>Now, you can use any of the option fields across the site instead of per template.</p><pre class="language-twig"><code class="language-twig"><span class="token other">/* footer.twig */<br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span><span class="token punctuation">></span></span></span><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">options</span><span class="token punctuation">.</span><span class="token property">copyright_info</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">></span></span></span></code></pre><hr><h2 id="getting-acf-info">Getting ACF info <a class="directLink" href="#getting-acf-info">#</a></h2><p>You can grab specific field label data like so:</p><pre class="language-php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><br><span class="token comment">/* single.php */</span><br><span class="token variable">$context</span><span class="token punctuation">[</span><span class="token double-quoted-string string">"acf"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">get_field_objects</span><span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">[</span><span class="token double-quoted-string string">"post"</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">ID</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre><pre class="language-twig"><code class="language-twig"><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">acf</span><span class="token punctuation">.</span><span class="token property">your_field_name_here</span><span class="token punctuation">.</span><span class="token property">label</span> <span class="token rd"><span class="token punctuation">}}</span></span></span></code></pre><hr><h2 id="query-by-custom-field-value">Query by custom field value <a class="directLink" href="#query-by-custom-field-value">#</a></h2><p>This example that uses a <a href="http://codex.wordpress.org/Class_Reference/WP_Query">WP_Query</a> array shows the arguments to find all posts where a custom field called <code>color</code> has a value of <code>red</code>.</p><pre class="language-php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><br><span class="token variable">$args</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span><br>    <span class="token single-quoted-string string">'numberposts'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><br>    <span class="token single-quoted-string string">'post_type'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token single-quoted-string string">'post'</span><span class="token punctuation">,</span><br>    <span class="token single-quoted-string string">'meta_key'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token single-quoted-string string">'color'</span><span class="token punctuation">,</span><br>    <span class="token single-quoted-string string">'meta_value'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token single-quoted-string string">'red'</span><br><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token variable">$context</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'posts'</span><span class="token punctuation">]</span> <span class="token operator">=</span> Timber<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get_posts</span><span class="token punctuation">(</span><span class="token variable">$args</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre><hr>