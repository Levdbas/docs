<h2 id="enable-debugging">Enable debugging <a class="directLink" href="#enable-debugging">#</a></h2><p>To use debugging, the constant <code>WP_DEBUG</code> needs to be set to <code>true</code>.</p><p><strong>wp-config.php</strong></p><pre class="language-php"><code class="language-php"><span class="token function">define</span><span class="token punctuation">(</span> <span class="token single-quoted-string string">'WP_DEBUG'</span><span class="token punctuation">,</span> <span class="token boolean constant">true</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id="using-twigs-native-functions">Using Twig’s native functions <a class="directLink" href="#using-twigs-native-functions">#</a></h2><p>Twig includes a <code>dump</code> function that can output the properties of an object.</p><p><strong>Twig</strong></p><pre class="language-twig"><code class="language-twig"><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">dump</span><span class="token punctuation">(</span><span class="token property">post</span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">}}</span></span></span></code></pre><p>Which will give you:</p><p><img src="https://i.imgur.com/5Xu53Fk.png" alt=""></p><p>You can also dump <em>everything</em> sent to your template (all the contents of <code>$context</code> that were passed to the Twig file) via:</p><pre class="language-twig"><code class="language-twig"><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">dump</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">}}</span></span></span></code></pre><p>This will give you something like:</p><p><img src="https://i.imgur.com/5ZD8VDd.png" alt=""></p><h2 id="formatted-output">Formatted output <a class="directLink" href="#formatted-output">#</a></h2><p>For a highlighted output like you see it above, you need to have <a href="https://xdebug.org/">xDebug</a> enabled in your local development environment. With some environments like MAMP, enabling it is as easy as ticking a checkbox and restarting the server. Other times, it might be more complex.</p><p>An easier solution is to use the <a href="https://github.com/nlemoine/timber-dump-extension">Timber Dump Extension</a>, which will make use of the Symfony VarDumper component to generate output like this when using <code>{{ dump() }}</code> in Twig:</p><p><img src="https://user-images.githubusercontent.com/2084481/31230351-116569a8-a9e4-11e7-8310-48b7f679892b.png" alt=""></p><p>It also works in PHP. Instead of using <code>var_dump</code> or <code>print_r</code>, you will use <code>dump()</code> as well:</p><pre class="language-php"><code class="language-php"><span class="token function">dump</span><span class="token punctuation">(</span> <span class="token variable">$post</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id="commented-twig-includes">Commented Twig includes <a class="directLink" href="#commented-twig-includes">#</a></h2><p>Sometimes it’s difficult to know which Twig file generated a certain output. Thankfully, there’s the <a href="https://github.com/djboris88/timber-commented-include">Timber Commented Include</a> extension. It will generate HTML comments that indicate where a template starts and where it ends:</p><pre class="language-html"><code class="language-html"><span class="token comment">&lt;!-- Begin output of "partials/navigation.twig" --></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>navigation<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nav</span><span class="token punctuation">></span></span><br><span class="token comment">&lt;!-- / End output of "partials/navigation.twig" --></span>).</code></pre><p>The extension is only active when <code>WP_DEBUG</code> is set to <code>true</code>.</p><h2 id="set-breakpoints-in-twig">Set breakpoints in Twig <a class="directLink" href="#set-breakpoints-in-twig">#</a></h2><h3 id="twig-breakpoints-in-phpstorm">Twig breakpoints in PhpStorm <a class="directLink" href="#twig-breakpoints-in-phpstorm">#</a></h3><p>With PhpStorm, you can <a href="https://blog.jetbrains.com/phpstorm/2019/05/twig-and-blade-templates-debugging-2/">set breakpoints right in your Twig files</a>. To make it work, you need to enable the caching of Twig files:</p><p><strong>functions.php</strong></p><pre class="language-php"><code class="language-php">Timber<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token variable">$twig_cache</span> <span class="token operator">=</span> <span class="token boolean constant">true</span><span class="token punctuation">;</span></code></pre><p>Then, you need to reference the path to the cached files in <em><strong>Settings/Preferences</strong></em> → <em><strong>Languages &amp; Frameworks</strong></em> → <em><strong>PHP</strong></em> → <em><strong>Debug</strong></em> → <em><strong>Templates</strong></em>. If you’ve installed Timber through Composer, the path will be <code>vendor/timber/timber/cache/</code>.</p><p>Remember that you can set the location of the cache files through the <code>timber/cache/location</code> filter:</p><pre class="language-php"><code class="language-php"><span class="token function">add_filter</span><span class="token punctuation">(</span> <span class="token single-quoted-string string">'timber/cache/location'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token single-quoted-string string">'/absolute/path/to/your/cached/twig/files'</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="twig-breakpoints-in-other-ides">Twig breakpoints in other IDEs <a class="directLink" href="#twig-breakpoints-in-other-ides">#</a></h3><p>Other IDEs don’t allow you to set breakpoints in your PHP code. You can try out the <a href="https://github.com/ajgarlag/AjglBreakpointTwigExtension">AjglBreakpointTwigExtension</a> extension, that allows you to set breakpoints and inspect environment and context variables.</p><p>Install it as a dev-dependency:</p><pre><code>composer require ajgl/breakpoint-twig-extension --dev
</code></pre><p>And then add it to Timber’s Twig environment:</p><p><strong>functions.php</strong></p><pre class="language-php"><code class="language-php"><span class="token function">add_filter</span><span class="token punctuation">(</span> <span class="token single-quoted-string string">'timber/twig'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> \<span class="token package">Twig<span class="token punctuation">\</span>Environment</span> <span class="token variable">$twig</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token function">defined</span><span class="token punctuation">(</span> <span class="token single-quoted-string string">'WP_DEBUG'</span> <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token constant">WP_DEBUG</span><br>        <span class="token operator">&amp;&amp;</span> <span class="token function">class_exists</span><span class="token punctuation">(</span> <span class="token single-quoted-string string">'Ajgl\Twig\Extension\BreakpointExtension'</span> <span class="token punctuation">)</span><br>    <span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token variable">$twig</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">addExtension</span><span class="token punctuation">(</span> <span class="token keyword">new</span> <span class="token class-name">Ajgl<span class="token punctuation">\</span>Twig<span class="token punctuation">\</span>Extension<span class="token punctuation">\</span>BreakpointExtension</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token keyword">return</span> <span class="token variable">$twig</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Finally, you can set a breakpoint anywhere in your Twig file:</p><pre class="language-twig"><code class="language-twig"><span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span><span class="token punctuation">></span></span></span><br>    <span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">breakpoint</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><br><span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nav</span><span class="token punctuation">></span></span></span></code></pre><h2 id="timber-debugger">Timber Debugger <a class="directLink" href="#timber-debugger">#</a></h2><p>The <a href="https://github.com/djboris88/timber-debugger"><strong>Timber Debugger</strong></a> package includes all three extensions mentioned above: the <a href="https://github.com/nlemoine/timber-dump-extension">Timber Dump</a> extension, the <a href="https://github.com/djboris88/timber-commented-include">Timber Commented Include</a> extension and the <a href="https://github.com/ajgarlag/AjglBreakpointTwigExtension">Twig Breakpoints</a> extension.</p><h2 id="using-timber-debug-bar-plugin">Using Timber Debug Bar plugin <a class="directLink" href="#using-timber-debug-bar-plugin">#</a></h2><p>There’s a <a href="http://wordpress.org/plugins/debug-bar-timber/">Timber add-on</a> for the <a href="https://wordpress.org/plugins/debug-bar/">WordPress debug bar</a>.<br><strong>Warning:</strong> this currently requires PHP 5.4.</p><h2 id="using-legacy-timber-filters">Using (Legacy) Timber Filters <a class="directLink" href="#using-legacy-timber-filters">#</a></h2><p>You can also use some quick filters on an object. These are legacy and will be removed in favor of using Twig's built-in functionality. However, these do not require that <code>WP_DEBUG</code> be turned on.</p><h3 id="print_r">print_r <a class="directLink" href="#print_r">#</a></h3><p>Passes the variable to PHP’s <code>print_r</code> function.</p><pre class="language-twig"><code class="language-twig"><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">post</span><span class="token operator">|</span><span class="token property">print_r</span> <span class="token rd"><span class="token punctuation">}}</span></span></span></code></pre><h3 id="get_class">get_class <a class="directLink" href="#get_class">#</a></h3><p>This filter answers the question: What type of object am I working with? It passes a variable to PHP’s <code>get_class</code> function.</p><pre class="language-twig"><code class="language-twig"><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">post</span><span class="token operator">|</span><span class="token property">get_class</span> <span class="token rd"><span class="token punctuation">}}</span></span></span></code></pre><p>It will output something like <code>TimberPost</code> or your custom wrapper object.</p>