<p>This guide serves as reference for any host or server-specific information we gather. If you have experience hosting WordPress with a particular host, stack, or service (AWS, Azure, etc.) please add that information here so it can be shared.</p><h2 id="wordpress-vip">WordPress VIP <a class="directLink" href="#wordpress-vip">#</a></h2><p>Automattic offers a paid service called <a href="https://wpvip.com/">WordPress VIP</a> for enterprise customers. To get Timber to play nice with their stack, we need to disable functionality related to caching and writes to the filesystem:</p><p><strong>functions.php</strong></p><pre class="language-php"><code class="language-php"><span class="token function">add_filter</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'timber/cache/mode'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>	<span class="token keyword">return</span> <span class="token single-quoted-string string">'none'</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><pre class="language-php"><code class="language-php"><span class="token function">add_filter</span><span class="token punctuation">(</span> <span class="token single-quoted-string string">'timber/allow_fs_write'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'__return_false'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>This means you will not be able to use on-the-fly image resizing through Timber. Don't despair! You can set custom image sizes for WordPress to use:</p><p><strong>functions.php</strong></p><pre class="language-php"><code class="language-php"><span class="token function">add_image_size</span><span class="token punctuation">(</span> <span class="token single-quoted-string string">'my_custom_size'</span><span class="token punctuation">,</span> <span class="token number">220</span><span class="token punctuation">,</span> <span class="token number">220</span><span class="token punctuation">,</span> <span class="token keyword">array</span><span class="token punctuation">(</span> <span class="token single-quoted-string string">'left'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'top'</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>single.twig</strong></p><pre class="language-twig"><code class="language-twig"><span class="token other">&lt;img src="</span><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">post</span><span class="token punctuation">.</span><span class="token property">thumbnail</span><span class="token punctuation">.</span><span class="token property">src</span><span class="token punctuation">(</span><span class="token string"><span class="token punctuation">'</span>my_custom_size<span class="token punctuation">'</span></span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><span class="token other">" alt="</span><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">post</span><span class="token punctuation">.</span><span class="token property">thumbnail</span><span class="token punctuation">.</span><span class="token property">alt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><span class="token other">"></span></code></pre><p>WordPress VIP has its own caching mechanisms. So when we disable caching, we're only disabling Timber and Twig's caching â€” not other layers that WP VIP applies.</p>