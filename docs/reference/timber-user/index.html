<p>This is used in Timber to represent users retrived from WordPress. You can call <code>$my_user = new Timber\User(123);</code> directly, or access it through the <code>{{ post.author }}</code> method.</p><p><strong>PHP</strong></p><pre class="language-php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><br><span class="token variable">$context</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'current_user'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Timber<span class="token punctuation">\</span>User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token variable">$context</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'post'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Timber<span class="token punctuation">\</span>Post</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>Timber<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'single.twig'</span><span class="token punctuation">,</span> <span class="token variable">$context</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre><p><strong>Twig</strong></p><pre class="language-twig"><code class="language-twig"><span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>current-user-info<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Your name is</span> <span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">current_user</span><span class="token punctuation">.</span><span class="token property">name</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>article-info<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>This article is called "</span><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">post</span><span class="token punctuation">.</span><span class="token property">title</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><span class="token other">" and it's by</span> <span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">post</span><span class="token punctuation">.</span><span class="token property">author</span><span class="token punctuation">.</span><span class="token property">name</span> <span class="token rd"><span class="token punctuation">}}</span></span></span></code></pre><p><strong>HTML</strong></p><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>current-user-info<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Your name is Jesse Eisenberg<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>article-info<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>This article is called "Consider the Lobster" and it's by David Foster Wallace</code></pre><h2 id="overview">Overview <a class="directLink" href="#overview">#</a></h2><h3 id="properties">Properties <a class="directLink" href="#properties">#</a></h3><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>avatar_override</td><td><code>string</code></td><td>A URL to an avatar that overrides anything from Gravatar, etc.</td></tr><tr><td>description</td><td><code>string</code></td><td>The description from WordPress</td></tr><tr><td>first_name</td><td><code>string</code></td><td>The first name of the user</td></tr><tr><td>last_name</td><td><code>string</code></td><td>The last name of the user</td></tr><tr><td>id</td><td><code>int</code></td><td>The ID from WordPress</td></tr><tr><td>roles</td><td><code>array</code></td><td></td></tr></tbody></table><h3 id="methods">Methods <a class="directLink" href="#methods">#</a></h3><table><thead><tr><th>Name</th><th>Type</th><th>Returns/Description</th></tr></thead><tbody><tr><td><a href="#avatar">avatar</a></td><td><code>string/\Timber\Image</code></td><td>The avatar URL.</td></tr><tr><td><a href="#can">can</a></td><td><code>bool</code></td><td>Whether the user has the capability.</td></tr><tr><td><a href="#link">link</a></td><td><code>string</code></td><td><a href="http://example.org/author/lincoln">http://example.org/author/lincoln</a></td></tr><tr><td><a href="#name">name</a></td><td><code>string</code></td><td>the human-friendly name of the user (ex: &quot;Buster Bluth&quot;)</td></tr><tr><td><a href="#path">path</a></td><td><code>string</code></td><td>ex: /author/lincoln</td></tr><tr><td><a href="#roles">roles</a></td><td><code>array/null</code></td><td></td></tr><tr><td><a href="#slug">slug</a></td><td><code>string</code></td><td>ex baberaham-lincoln</td></tr></tbody></table><hr><h2 id="class-methods">Class Methods <a class="directLink" href="#class-methods">#</a></h2><h3 id="__construct">__construct <a class="directLink" href="#__construct">#</a></h3><p><code>__construct( bool/object/int/bool $uid=false )</code></p><p><strong>returns:</strong> <code>void</code></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>$uid</td><td><code>bool/object/int/bool</code></td><td></td></tr></tbody></table><hr><h3 id="__tostring">__toString <a class="directLink" href="#__tostring">#</a></h3><p><code>__toString( )</code></p><p><strong>returns:</strong> <code>string</code> a fallback for TimberUser::name()</p><p><strong>Twig</strong></p><pre class="language-twig"><code class="language-twig"><span class="token other">This post is by</span> <span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">post</span><span class="token punctuation">.</span><span class="token property">author</span> <span class="token rd"><span class="token punctuation">}}</span></span></span></code></pre><p><strong>HTML</strong></p><pre class="language-html"><code class="language-html">This post is by Jared Novack</code></pre><hr><h3 id="avatar">avatar <a class="directLink" href="#avatar">#</a></h3><p><code>avatar( mixed/null/array $args=null )</code></p><p><strong>returns:</strong> <code>string/\Timber\Image</code> The avatar URL.</p><p>Gets a user’s avatar URL.</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>$args</td><td><code>mixed/null/array</code></td><td>Parameters for <a href="https://developer.wordpress.org/reference/functions/get_avatar_url/"><code>get_avatar_url()</code></a>.</td></tr></tbody></table><p>Get a user avatar with a width and height of 150px: <strong>Twig</strong></p><pre class="language-twig"><code class="language-twig"><span class="token other">&lt;img src="</span><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">post</span><span class="token punctuation">.</span><span class="token property">author</span><span class="token punctuation">.</span><span class="token property">avatar</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token property">size</span><span class="token punctuation">:</span> <span class="token number">150</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><span class="token other">"></span></code></pre><hr><h3 id="can">can <a class="directLink" href="#can">#</a></h3><p><code>can( string $capability )</code></p><p><strong>returns:</strong> <code>bool</code> Whether the user has the capability.</p><p>Checks whether a user has a capability.</p><p>Don’t use role slugs for capability checks. While checking against a role in place of a capability is supported in part, this practice is discouraged as it may produce unreliable results. This includes cases where you want to check whether a user is registered. If you want to check whether a user is a Subscriber, use <code>{{ user.can('read') }}</code>. If you only want to check whether a user is logged in, you can use <code>{% if user %}</code>.</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>$capability</td><td><code>string</code></td><td>The capability to check.</td></tr></tbody></table><p>Give moderation users another CSS class to style them differently. <strong>Twig</strong></p><pre class="language-twig"><code class="language-twig"><span class="token other">&lt;span class="comment-author</span> <span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">comment</span><span class="token punctuation">.</span><span class="token property">author</span><span class="token punctuation">.</span><span class="token property">can</span><span class="token punctuation">(</span><span class="token string"><span class="token punctuation">'</span>moderate_comments<span class="token punctuation">'</span></span><span class="token punctuation">)</span> <span class="token operator">?</span> '<span class="token property">comment</span><span class="token operator">-</span><span class="token property">author</span><span class="token operator">-</span><span class="token operator">-</span><span class="token property">is</span><span class="token operator">-</span><span class="token property">moderator</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><span class="token other">"></span><br>    <span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">comment</span><span class="token punctuation">.</span><span class="token property">author</span><span class="token punctuation">.</span><span class="token property">name</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><br><span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span></span></code></pre><hr><h3 id="get_custom">get_custom <a class="directLink" href="#get_custom">#</a></h3><p><code>get_custom( )</code></p><p><strong>returns:</strong> <code>array/null</code></p><hr><h3 id="get_meta_field">get_meta_field <a class="directLink" href="#get_meta_field">#</a></h3><p><code>get_meta_field( string $field_name )</code></p><p><strong>returns:</strong> <code>mixed</code></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>$field_name</td><td><code>string</code></td><td></td></tr></tbody></table><hr><h3 id="link">link <a class="directLink" href="#link">#</a></h3><p><code>link( )</code></p><p><strong>returns:</strong> <code>string</code> <a href="http://example.org/author/lincoln">http://example.org/author/lincoln</a></p><hr><h3 id="meta">meta <a class="directLink" href="#meta">#</a></h3><p><code>meta( string $field_name )</code></p><p><strong>returns:</strong> <code>mixed</code></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>$field_name</td><td><code>string</code></td><td></td></tr></tbody></table><hr><h3 id="name">name <a class="directLink" href="#name">#</a></h3><p><code>name( )</code></p><p><strong>returns:</strong> <code>string</code> the human-friendly name of the user (ex: &quot;Buster Bluth&quot;)</p><hr><h3 id="path">path <a class="directLink" href="#path">#</a></h3><p><code>path( )</code></p><p><strong>returns:</strong> <code>string</code> ex: /author/lincoln</p><hr><h3 id="roles">roles <a class="directLink" href="#roles">#</a></h3><p><code>roles( )</code></p><p><strong>returns:</strong> <code>array/null</code></p><p>Gets the user roles. Roles shouldn’t be used to check whether a user has a capability. Use roles only for displaying purposes. For example, if you want to display the name of the subscription a user has on the site behind a paywall.</p><p>If you want to check for capabilities, use <code>{{ user.can('capability') }}</code>. If you only want to check whether a user is logged in, you can use <code>{% if user %}</code>.</p><p><strong>Twig</strong></p><pre class="language-twig"><code class="language-twig"><span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>Role name<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span></span><br><span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">for</span></span> <span class="token property">role</span> <span class="token operator">in</span> <span class="token property">post</span><span class="token punctuation">.</span><span class="token property">author</span><span class="token punctuation">.</span><span class="token property">roles</span> <span class="token rd"><span class="token punctuation">%}</span></span></span><br>    <span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">role</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><br><span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">endfor</span></span> <span class="token rd"><span class="token punctuation">%}</span></span></span></code></pre><p><strong>Twig</strong></p><pre class="language-twig"><code class="language-twig"><span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>Role name<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span></span><br><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">post</span><span class="token punctuation">.</span><span class="token property">author</span><span class="token punctuation">.</span><span class="token property">roles</span><span class="token operator">|</span><span class="token property">join</span><span class="token punctuation">(</span><span class="token string"><span class="token punctuation">'</span>, <span class="token punctuation">'</span></span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">}}</span></span></span></code></pre><p><strong>Twig</strong></p><pre class="language-twig"><code class="language-twig"><span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">for</span></span> <span class="token property">slug</span><span class="token punctuation">,</span> <span class="token property">name</span> <span class="token operator">in</span> <span class="token property">post</span><span class="token punctuation">.</span><span class="token property">author</span><span class="token punctuation">.</span><span class="token property">roles</span> <span class="token rd"><span class="token punctuation">%}</span></span></span><br>    <span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">slug</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><br><span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">endfor</span></span> <span class="token rd"><span class="token punctuation">%}</span></span></span></code></pre><hr><h3 id="slug">slug <a class="directLink" href="#slug">#</a></h3><p><code>slug( )</code></p><p><strong>returns:</strong> <code>string</code> ex baberaham-lincoln</p><hr><p><em>This class extends \Timber\Core</em></p><p><em>This class implements \Timber\CoreInterface</em></p>