<p>A significant part of this 1.0 release is removing lots of deprecated functions and methods that go back to the earliest designs for Timber in early 2013.</p><h2 id="should-i-upgrade?">Should I upgrade? <a class="directLink" href="#should-i-upgrade?">#</a></h2><p>Maybe. Read on:</p><h3 id="i-have-a-legacy-site">I have a legacy site <a class="directLink" href="#i-have-a-legacy-site">#</a></h3><p>If you wrote a theme in 2014, it's running fine and the development of the site has concluded: stop right there! Do not upgrade! While there are some slight performance benefits (and not having the warning light on the plugin dashboard) it's not worth it to you. Close this window and forget you ever heard about Timber 1.0</p><h3 id="i-have-a-site-under-continued-development">I have a site under continued development <a class="directLink" href="#i-have-a-site-under-continued-development">#</a></h3><p>Maybe. There are going to be tradeoffs with whatever route you pick. I recommend testing your site thoroughly with a staging or local copy to find all the issues before applying Timber 1.0 to production. However, you're the best judge of how much potential refactoring you're looking at and whether it's worth the benefits.</p><h3 id="i-am-starting-a-new-site.">I am starting a new site. <a class="directLink" href="#i-am-starting-a-new-site.">#</a></h3><p>Definitely. You'll get the benefits of being on the newest platform. We have some cool stuff ahead that you'll want to include in your development workflow, and of course you'll learn about the newest/best ways to make Timber themes.</p><h2 id="routes">Routes <a class="directLink" href="#routes">#</a></h2><p>The Routes feature has now been totally deprecated. If you have custom routes you'll need to add the <a href="https://github.com/upstatement/routes">Upstatement/routes</a> repo to your theme? How to do this?</p><h3 id="1.-add-to-composer-optional-but-recommended">1. Add to Composer (optional, but recommended) <a class="directLink" href="#1.-add-to-composer-optional-but-recommended">#</a></h3><p>Simply add <code>Upstatement/routes</code> to your <code>composer.json</code> file like so:</p><pre class="language-json"><code class="language-json"><span class="token property">"require"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>    <span class="token property">"timber/timber"</span><span class="token operator">:</span><span class="token string">"1.*"</span><span class="token punctuation">,</span><br>    <span class="token property">"advanced-custom-fields/advanced-custom-fields-pro"</span><span class="token operator">:</span> <span class="token string">"*"</span><span class="token punctuation">,</span><br>    <span class="token property">"Upstatement/routes"</span><span class="token operator">:</span> <span class="token string">"*"</span><br><span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre><p>Here's a full <a href="https://gist.github.com/jarednova/dc84cf14735a870dbe3d2763e94095a1">Gist</a> of what this looks like. Run a <code>composer install</code> to update your theme's dependencies.</p><p><em>Note: because we're not monsters, the [Upstatement/routes] repo will continue to be included with Timber for the next several versions</em></p><h3 id="2.-add-to-your-theme">2. Add to your theme <a class="directLink" href="#2.-add-to-your-theme">#</a></h3><p>If you haven't already, you'll need to load Composer's autoload file into your theme via:</p><pre class="language-php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><br><span class="token comment">/* functions.php */</span><br><span class="token keyword">require_once</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'vendor/autoload.php'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre><h3 id="3.-update-your-routes">3. Update your Routes <a class="directLink" href="#3.-update-your-routes">#</a></h3><p>Now just update the PHP for your old routes to the new ones. It'll be basically the same code, but with cleaner syntax <strong>and a different arguments order for the <code>::load</code> method</strong></p><p><strong>Before</strong></p><pre class="language-php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><br>Timber<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">add_route</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'myfoo/bar'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'my_callback_function'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>Timber<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">add_route</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'my-events/:event'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token variable">$params</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token variable">$query</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WP_Query</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'post_type=event'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    Timber<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">load_view</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'single.php'</span><span class="token punctuation">,</span> <span class="token variable">$query</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token variable">$params</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre><p><strong>After</strong></p><pre class="language-php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><br>Routes<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'myfoo/bar'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'my_callback_function'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>Routes<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'my-events/:event'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token variable">$params</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token variable">$query</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WP_Query</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'post_type=event'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token comment">/* please note the different order of arguments vs. Timber::load_template */</span><br>    Routes<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'single.php'</span><span class="token punctuation">,</span> <span class="token variable">$params</span><span class="token punctuation">,</span> <span class="token variable">$query</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre><p>... and that's the hardest part, done!</p><h2 id="post-object-properties">Post Object Properties <a class="directLink" href="#post-object-properties">#</a></h2><ul><li>If you're using <code>{{ post.permalink }}</code> or <code>{{ post.get_permalink }}</code> you should replace with <code>{{ post.link }}</code></li><li>If you're using <code>{{ post.url }}</code> or <code>{{ post.get_url }}</code> you should replace with <code>{{ post.link }}</code></li><li>If you're using <code>{{ post.thumbnail.url }}</code> or <code>{{ post.get_thumbnail.url }}</code> you should replace with <code>{{ post.thumbnail.src }}</code></li></ul><h2 id="static-methods">Static methods <a class="directLink" href="#static-methods">#</a></h2><p>Way back in <code>0.18</code>, a new helper library was added for URLs. In my infinite wisdom I called it <code>TimberURLHelper</code>. Previously old static methods in <code>TimberHelper</code> still worked (like <code>TimberHelper::get_current_url</code>) â€” they don't any longer. The full list of methods you'll need to update is...</p><ul><li><code>TimberHelper::get_current_url</code> --- becomes ---&gt; <code>Timber\URLHelper::get_current_url()</code></li><li><code>TimberHelper::is_url</code> --- becomes ---&gt; <code>Timber\URLHelper::is_url()</code></li><li><code>TimberHelper::get_path_base</code> --- becomes ---&gt; <code>Timber\URLHelper::get_path_base()</code></li><li><code>TimberHelper::get_rel_url</code> --- becomes ---&gt; <code>Timber\URLHelper::get_rel_url()</code></li><li><code>TimberHelper::is_local</code> --- becomes ---&gt; <code>Timber\URLHelper::is_local()</code></li><li><code>TimberHelper::get_full_path</code> --- becomes ---&gt; <code>Timber\URLHelper::get_full_path()</code></li><li><code>TimberHelper::get_rel_path</code> --- becomes ---&gt; <code>Timber\URLHelper::get_rel_path()</code></li><li><code>TimberHelper::remove_double_slashes</code> --- becomes ---&gt; <code>Timber\URLHelper::remove_double_slashes()</code></li><li><code>TimberHelper::prepend_to_url</code> --- becomes ---&gt; <code>Timber\URLHelper::prepend_to_url()</code></li><li><code>TimberHelper::preslashit</code> --- becomes ---&gt; <code>Timber\URLHelper::preslashit()</code></li><li><code>TimberHelper::is_external</code> --- becomes ---&gt; <code>Timber\URLHelper::is_external()</code></li><li><code>TimberHelper::download_url</code> --- becomes ---&gt; <code>Timber\URLHelper::download_url()</code></li><li><code>TimberHelper::get_params</code> --- becomes ---&gt; <code>Timber\URLHelper::get_params()</code></li></ul><h2 id="deprecated">Deprecated <a class="directLink" href="#deprecated">#</a></h2><p>Many of the aliases with <code>get_*</code> are now deprecated. For awhile, we've recommended using <code>post.title</code> instead of <code>post.get_title</code>, <code>post.thumbnail</code> instead of <code>post.get_thumbnail</code>, etc. In future versions this will be enforced.</p>