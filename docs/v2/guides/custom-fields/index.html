<!doctype html><html lang="en" data-theme="dark"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-126807198-1"></script><script>window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'UA-126807198-1');</script><title>Custom Fields â€“ Timber Documentation</title><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="robots" content="noindex"><meta name="docsearch:version" content="v2"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3"><link rel="stylesheet" href="/docs/build/css/styles.css?id=232b17f1f40885102fae566bfc15b046"><link rel="stylesheet" href="/docs/build/css/mobile.css?id=eb03f5e9c806ca82b2fc8d728401461a" media="screen and (max-width: 979px)"><script src="/docs/build/js/app.js?id=4594e1490acc2ce9d471fb2243cbcfce" defer="defer"></script><link rel="icon" href="/docs/build/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon-precomposed" sizes="57x57" href="/docs/build/favicons/apple-touch-icon-57x57.png"><link rel="apple-touch-icon-precomposed" sizes="114x114" href="/docs/build/favicons/apple-touch-icon-114x114.png"><link rel="apple-touch-icon-precomposed" sizes="72x72" href="/docs/build/favicons/apple-touch-icon-72x72.png"><link rel="apple-touch-icon-precomposed" sizes="144x144" href="/docs/build/favicons/apple-touch-icon-144x144.png"><link rel="apple-touch-icon-precomposed" sizes="60x60" href="/docs/build/favicons/apple-touch-icon-60x60.png"><link rel="apple-touch-icon-precomposed" sizes="120x120" href="/docs/build/favicons/apple-touch-icon-120x120.png"><link rel="apple-touch-icon-precomposed" sizes="76x76" href="favicons/apple-touch-icon-76x76.png"><link rel="apple-touch-icon-precomposed" sizes="152x152" href="favicons/apple-touch-icon-152x152.png"><link rel="icon" type="image/png" href="/docs/build/favicons/favicon-196x196.png" sizes="196x196"><link rel="icon" type="image/png" href="/docs/build/favicons/favicon-96x96.png" sizes="96x96"><link rel="icon" type="image/png" href="/docs/build/favicons/favicon-32x32.png" sizes="32x32"><link rel="icon" type="image/png" href="/docs/build/favicons/favicon-16x16.png" sizes="16x16"><link rel="icon" type="image/png" href="/docs/build/favicons/favicon-128.png" sizes="128x128"><meta name="application-name" content="Timber Documentation"><meta name="msapplication-TileColor" content="#FFFFFF"><meta name="msapplication-TileImage" content="/docs/build/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="/docs/build/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="/docs/build/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="/docs/build/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="/docs/build/favicons/mstile-310x310.png"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@TimberWP"><meta name="twitter:title" content="Timber for WordPress Documentation"><meta name="twitter:description" content="Create WordPress themes with beautiful OOP code and the Twig Template Engine"><meta name="twitter:image" content="https://repository-images.githubusercontent.com/7413451/06c62480-b95c-11ea-8b35-b5dd97d070f1"></head><body><header class="header"><div class="logoContainer"><a href="/docs/"><img src="/docs/build/img/timber-logo.svg" alt="Timber Logo" style="width: 105px; height: 30px; border: 0" role="img"></a></div><div class="search"><div id="docsearch"></div></div><nav class="navTop" id="nav-top"><ul><li><a href="https://upstatement.com/timber/" target="_blank" rel="noreferrer noopener">About Timber</a></li><li><a href="https://twig.symfony.com/doc/" target="_blank" rel="noreferrer noopener">Twig Docs</a></li><li><a href="https://github.com/timber/timber" target="_blank" rel="noreferrer noopener"><img src="/docs/build/img/github.png" alt="Star on Github" style="width: 29px; height: 29px; border: 0"></a></li></ul></nav><button class="navMobileToggle js-menu-open" type="button" id="nav-mobile-toggle"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 34"><path d="M45.6,19.43H2.4a2.43,2.43,0,0,1,0-4.86H45.6a2.43,2.43,0,0,1,0,4.86Z"/><path d="M45.6,4.86H2.4A2.41,2.41,0,0,1,0,2.43,2.41,2.41,0,0,1,2.4,0H45.6A2.41,2.41,0,0,1,48,2.43,2.41,2.41,0,0,1,45.6,4.86Z"/><path d="M45.6,34H2.4a2.43,2.43,0,0,1,0-4.86H45.6a2.43,2.43,0,0,1,0,4.86Z"/></svg> <span class="sr-only">Menu</span></button></header><div class="wrapper"><aside class="sidebar slideup-menu" id="sidebar" data-turbolinks-keep-scroll-position><button class="navClose js-menu-close" type="button"><div class="navClose-icon" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><path d="M3.43,48A3.43,3.43,0,0,1,1,42.15L42.15,1A3.43,3.43,0,1,1,47,5.85L5.85,47A3.4,3.4,0,0,1,3.43,48Z"/><path d="M44.57,48a3.4,3.4,0,0,1-2.42-1L1,5.85A3.43,3.43,0,0,1,5.85,1L47,42.15A3.43,3.43,0,0,1,44.57,48Z"/></svg></div><span class="sr-only">Close Menu</span></button><nav class="navVersions"><ul><li><a href="/docs/">v1.0</a></li><li><a href="/docs/v2" class="is-current">v2.0.0 RC.1</a></li></ul></nav><nav id="nav-main" class="navMain"><ul class="navMain-sections"><li class="navMain-section"><h3 class="navMain-title">Installation</h3><ul class="navMain-items"><li class="navMain-item" data-order="10"><a class="navMain-link" href="/docs/v2/installation/">Installation</a></li><li class="navMain-item" data-order="30"><a class="navMain-link" href="/docs/v2/installation/manage-timber-with-composer/">Managing Timber with Composer</a></li></ul></li><li class="navMain-section"><h3 class="navMain-title">Getting Started</h3><ul class="navMain-items"><li class="navMain-item" data-order="100"><a class="navMain-link" href="/docs/v2/getting-started/introduction/">Introduction</a></li><li class="navMain-item" data-order="200"><a class="navMain-link" href="/docs/v2/getting-started/template-inheritance-and-includes/">Template inheritance and includes</a></li><li class="navMain-item" data-order="300"><a class="navMain-link" href="/docs/v2/getting-started/a-single-post/">A single post</a></li><li class="navMain-item" data-order="400"><a class="navMain-link" href="/docs/v2/getting-started/a-post-archive/">A post archive</a></li></ul></li><li class="navMain-section"><h3 class="navMain-title navMain-sectionTitle">Guides</h3><ul class="navMain-items"><li class="navMain-item" data-order="50"><a class="navMain-link" href="/docs/v2/guides/context/">Context</a></li><li class="navMain-item" data-order="75"><a class="navMain-link" href="/docs/v2/guides/template-locations/">Template Locations</a></li><li class="navMain-item" data-order="110"><a class="navMain-link" href="/docs/v2/guides/posts/">Posts</a></li><li class="navMain-item" data-order="120"><a class="navMain-link" href="/docs/v2/guides/terms/">Terms</a></li><li class="navMain-item" data-order="130"><a class="navMain-link" href="/docs/v2/guides/users/">Users</a></li><li class="navMain-item" data-order="140"><a class="navMain-link" href="/docs/v2/guides/comments/">Comments</a></li><li class="navMain-item" data-order="150"><a class="navMain-link" href="/docs/v2/guides/menus/">Menus</a></li><li class="navMain-item" data-order="160"><a class="navMain-link" href="/docs/v2/guides/widgets/">Widgets</a></li><li class="navMain-item" data-order="170"><a class="navMain-link" href="/docs/v2/guides/shortcodes/">Shortcodes</a></li><li class="navMain-item" data-order="200"><a class="navMain-link" href="/docs/v2/guides/twig/">Twig</a></li><li class="navMain-item" data-order="220"><a class="navMain-link" href="/docs/v2/guides/twig-filters/">Twig filters</a></li><li class="navMain-item" data-order="300"><a class="navMain-link" href="/docs/v2/guides/cookbook-text/">Text Cookbook</a></li><li class="navMain-item" data-order="400"><a class="navMain-link" href="/docs/v2/guides/escaping/">Escaping</a></li><li class="navMain-item" data-order="500"><a class="navMain-link" href="/docs/v2/guides/custom-page-templates/">Custom Page Templates</a></li><li class="navMain-item" data-order="600"><a class="navMain-link" href="/docs/v2/guides/custom-fields/" aria-current>Custom Fields</a></li><li class="navMain-item" data-order="800"><a class="navMain-link" href="/docs/v2/guides/functions/">Functions</a></li><li class="navMain-item" data-order="1000"><a class="navMain-link" href="/docs/v2/guides/cookbook-images/">Image Cookbook</a></li><li class="navMain-item" data-order="1100"><a class="navMain-link" href="/docs/v2/guides/pagination/">Pagination</a></li><li class="navMain-item" data-order="1200"><a class="navMain-link" href="/docs/v2/guides/sidebars/">Sidebars</a></li><li class="navMain-item" data-order="1300"><a class="navMain-link" href="/docs/v2/guides/performance/">Performance/Caching</a></li><li class="navMain-item" data-order="1350"><a class="navMain-link" href="/docs/v2/guides/date-time/">Date/Time in Timber</a></li><li class="navMain-item" data-order="1400"><a class="navMain-link" href="/docs/v2/guides/internationalization/">Internationalization</a></li><li class="navMain-item" data-order="1500"><a class="navMain-link" href="/docs/v2/guides/cheatsheet/">Cheatsheet</a></li><li class="navMain-item" data-order="1550"><a class="navMain-link" href="/docs/v2/guides/gutenberg/">Block Editor (Gutenberg)</a></li><li class="navMain-item" data-order="1600"><a class="navMain-link" href="/docs/v2/guides/extending-timber/">Extending Timber</a></li><li class="navMain-item" data-order="1650"><a class="navMain-link" href="/docs/v2/guides/extending-twig/">Extending Twig</a></li><li class="navMain-item" data-order="1660"><a class="navMain-link" href="/docs/v2/guides/class-maps/">Class Maps</a></li><li class="navMain-item" data-order="1670"><a class="navMain-link" href="/docs/v2/guides/wp-cli/">WP-CLI</a></li><li class="navMain-item" data-order="1700"><a class="navMain-link" href="/docs/v2/guides/hosts-servers/">Hosts &amp; Servers</a></li><li class="navMain-item" data-order="1800"><a class="navMain-link" href="/docs/v2/guides/debugging/">Debugging</a></li><li class="navMain-item" data-order="1900"><a class="navMain-link" href="/docs/v2/guides/testing/">Automated Testing</a></li><li class="navMain-item" data-order="2000"><a class="navMain-link" href="/docs/v2/guides/routing/">Routing</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/guides/custom-integrations/">Custom Integrations</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/guides/woocommerce/">WooCommerce</a></li></ul></li><li class="navMain-section"><h3 class="navMain-title">Reference</h3><ul class="navMain-items"><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-archives/">Archives</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-attachment/">Attachment</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-cache-cleaner/">Cleaner</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-comment/">Comment</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-datetimehelper/">DateTimeHelper</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-externalimage/">ExternalImage</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-helper/">Helper</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-image/">Image</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-imagedimensions/">ImageDimensions</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-imagehelper/">ImageHelper</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-menu/">Menu</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-menuitem/">MenuItem</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-pagesmenu/">PagesMenu</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-pagination/">Pagination</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-pathhelper/">PathHelper</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-post/">Post</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-postarrayobject/">PostArrayObject</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-postexcerpt/">PostExcerpt</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-postquery/">PostQuery</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-site/">Site</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-term/">Term</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-texthelper/">TextHelper</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-theme/">Theme</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-timber/">Timber</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-urlhelper/">URLHelper</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-user/">User</a></li></ul></li><li class="navMain-section"><h3 class="navMain-title">Hooks</h3><ul class="navMain-items"><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/hooks/actions/">Action Hooks</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/hooks/filters/">Filter Hooks</a></li></ul></li><li class="navMain-section"><h3 class="navMain-title">Integrations</h3><ul class="navMain-items"><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/integrations/advanced-custom-fields/">Advanced Custom Fields</a></li></ul></li><li class="navMain-section"><h3 class="navMain-title">Upgrade Guides</h3><ul class="navMain-items"><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/upgrade-guides/1.0/">Upgrade to 1.0</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/upgrade-guides/2.0/">Upgrade to 2.0</a></li></ul></li><li class="navMain-section"><h3 class="navMain-title">Contributing</h3><ul class="navMain-items"><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/contributing/">Contributing to Timber</a></li></ul></li></ul></nav></aside><main><div class="globalCallout"><h2>Timber Version 2.0 Release Candidate ðŸŒ²</h2><p>Youâ€™re looking at the documentation for version 2 of Timber, which is <strong>currently released as a Release Candidate</strong>.</p><p>You may have a look at the <a href="https://timber.github.io/docs/v2/upgrade-guides/2.0/">upcoming changes</a>.</p><p>Follow us on <a href="https://twitter.com/TimberWP">Twitter</a> or start <a href="https://help.github.com/en/enterprise/2.15/user/articles/watching-and-unwatching-repositories#watching-a-single-repository">watching new releases</a> of our <a href="https://github.com/timber/timber/">GitHub repository</a> to be notified about a version you can use.</p></div><article><h1>Custom Fields</h1><aside><h2 class="heading-small">On this page</h2><nav class="toc"><ol><li><a href="#accessing-custom-values">Accessing custom values</a><ol><li><a href="#the-meta-method">The meta() method</a></li><li><a href="#the-raw_meta-method">The raw_meta() method</a></li><li><a href="#define-your-own-method">Define your own method</a></li><li><a href="#direct-access-through-custom-field-name">Direct access through custom field name</a></li><li><a href="#accessing-all-meta-values">Accessing all meta values</a></li><li><a href="#performance">Performance</a></li></ol></li><li><a href="#site-options">Site options</a></li><li><a href="#query-by-custom-field-value">Query by custom field value</a></li></ol></nav></aside><div class="content"><p>Timber tries to make it as easy as possible for you to retrieve custom meta data for Post, Term, User and Comment objects. And it works with a range of plugins that make it easier for you to create custom fields, like Advanced Custom Fields. While most of this guide applies to everything you do with custom fields, we have a detailed guide for <a href="https://timber.github.io/docs/v2/integrations/advanced-custom-fields/">ACF</a>.</p><h2 id="accessing-custom-values" tabindex="-1">Accessing custom values <a class="directLink" href="#accessing-custom-values">#</a></h2><p>When you have a custom field thatâ€™s named <code>my_custom_field</code>, you can access it in 3 different ways:</p><ol><li>Access it <a href="#the-meta-method">through the <code>meta()</code> method</a>.</li><li>Access it <a href="#the-raw-meta-method">through the <code>raw_meta()</code> method</a>.</li><li>Define <a href="#define-your-own-method">your own method</a>.</li><li>Directly access it <a href="#direct-access-through-custom-field-name">through the fieldâ€™s name</a>.</li></ol><p>Each of these methods behaves a little differently. Letâ€™s look at each one in more detail.</p><h3 id="the-meta-method" tabindex="-1">The <code>meta()</code> method <a class="directLink" href="#the-meta-method">#</a></h3><p>This method is the <strong>recommended way to access meta values</strong>. Youâ€™ll get values that are <strong>filtered</strong> by third-party plugins (e.g. Advanced Custom Fields).</p><p><strong>Twig</strong></p><pre class="language-twig"><code class="language-twig"><span class="token twig language-twig"><span class="token delimiter punctuation">{{</span> post<span class="token punctuation">.</span>meta<span class="token punctuation">(</span><span class="token string"><span class="token punctuation">'</span>my_custom_field<span class="token punctuation">'</span></span><span class="token punctuation">)</span> <span class="token delimiter punctuation">}}</span></span></code></pre><p><strong>PHP</strong></p><pre class="language-php"><code class="language-php"><span class="token variable">$my_custom_field</span> <span class="token operator">=</span> <span class="token variable">$post</span><span class="token operator">-></span><span class="token function">meta</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'my_custom_field'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="the-raw_meta-method" tabindex="-1">The <code>raw_meta()</code> method <a class="directLink" href="#the-raw_meta-method">#</a></h3><p>With this method, values are <strong>raw</strong> (directly from the <code>wp_meta</code> table in the database) and are <strong>not filtered</strong> by third-party plugins (e.g. Advanced Custom Fields).</p><p><strong>Twig</strong></p><pre class="language-twig"><code class="language-twig"><span class="token twig language-twig"><span class="token delimiter punctuation">{{</span> post<span class="token punctuation">.</span>raw_meta<span class="token punctuation">(</span><span class="token string"><span class="token punctuation">'</span>my_custom_field<span class="token punctuation">'</span></span><span class="token punctuation">)</span> <span class="token delimiter punctuation">}}</span></span></code></pre><p><strong>PHP</strong></p><pre><code>$my_custom_field = $post-&gt;raw_meta( 'my_custom_field' );
</code></pre><h3 id="define-your-own-method" tabindex="-1">Define your own method <a class="directLink" href="#define-your-own-method">#</a></h3><p>Sometimes you need to modify a meta value before it is returned. You can do that by <a href="https://timber.github.io/docs/v2/guides/extending-timber/">extending a Timber object</a> and defining your own method. In the following example, we set a custom <code>price()</code> method to format the price thatâ€™s saved in a custom field named <code>price</code>.</p><p><strong>PHP</strong></p><pre class="language-php"><code class="language-php"><span class="token keyword">class</span> <span class="token class-name-definition class-name">CustomPost</span> <span class="token keyword">extends</span> <span class="token class-name class-name-fully-qualified">Timber<span class="token punctuation">\</span>Post</span><br><span class="token punctuation">{</span><br>    <span class="token comment">/**<br>     * Gets formatted price.<br>     */</span><br>    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">price</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>    <span class="token punctuation">{</span><br>        <span class="token variable">$price</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-></span><span class="token function">meta</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'price'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>        <span class="token comment">// Remove decimal digits.</span><br>        <span class="token keyword">return</span> <span class="token function">number_format</span><span class="token punctuation">(</span><span class="token variable">$price</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">''</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p>In Twig, you would access it like this:</p><p><strong>Twig</strong></p><pre class="language-twig"><code class="language-twig"><span class="token twig language-twig"><span class="token delimiter punctuation">{{</span> post<span class="token punctuation">.</span>price <span class="token delimiter punctuation">}}</span></span></code></pre><p>Youâ€™ll know from looking at the code that you call a defined property or method. Be aware that through this method, you might overwrite a method that already exists on for a <code>Timber\Post</code> object (like <a href="https://timber.github.io/docs/v2/reference/timber-post/#date"><code>date</code></a>), which is totally fine if you know what youâ€™re doing.</p><h3 id="direct-access-through-custom-field-name" tabindex="-1">Direct access through custom field name <a class="directLink" href="#direct-access-through-custom-field-name">#</a></h3><p>If a directly accessed property or method doesnâ€™t exist, Timber will fall back to the equivalent <code>{{ post.meta('post') }}</code> call. This means that you can always write <code>{{ post.price }}</code>, even if you donâ€™t have a method defined.</p><p><strong>We donâ€™t recommend to use this method, because you might run into conflicts with existing properties or methods on an object.</strong></p><p>For example, when you use a custom field that you name <code>date</code> and try to get its value through <code>{{ post.date }}</code>, it wonâ€™t work. Thatâ€™s because <a href="https://timber.github.io/docs/v2/reference/timber-post/#date"><code>date</code></a> is a method of the <code>Timber\Post</code> object that returns the date a post was published.</p><p>In PHP, youâ€™d access the property through <code>$post-&gt;date</code> and call the <code>date</code> method through <code>$post-&gt;date()</code>. But in Twig, you can call methods without using parentheses. And methods take precedence over properties. Timber uses a PHP technique called <a href="http://de.php.net/manual/en/language.oop5.overloading.php#language.oop5.overloading.members">Overloading</a> to get meta values using PHPâ€™s <a href="http://php.net/manual/en/language.oop5.overloading.php#object.get"><code>__get</code> magic method</a> on <code>Timber\Post</code>, <code>Timber\Term</code>, <code>Timber\User</code> and <code>Timber\Comment</code> objects. This means that when you use <code>{{ post.date }}</code>, it will ...</p><ul><li>Check if method <code>date</code> exists. If it does, it will return what the method produces.</li><li>Otherwise, it will check if a property <code>date</code> exists. If it does, it will return its value.</li><li>Otherwise, it will hit the <code>__get()</code> method, which handles undefined or inaccessible properties. Timberâ€™s <code>__get()</code> method will look for existing meta and return these.</li></ul><p>Now, if you ever run into this problem, you should either use the <a href="#the-meta-method"><code>meta()</code></a> or <a href="#the-raw-meta-method"><code>raw_meta()</code></a> method.</p><h3 id="accessing-all-meta-values" tabindex="-1">Accessing all meta values <a class="directLink" href="#accessing-all-meta-values">#</a></h3><p>In earlier versions of Timber, you could use the <code>custom</code> property on an object to check which meta values were set on a post, term, user or comment object.</p><p>Now, to get the values for all meta values that are set on an object, you can use <code>meta()</code> or <code>raw_meta()</code> without passing a field name.</p><pre class="language-twig"><code class="language-twig"><span class="token twig language-twig"><span class="token delimiter punctuation">{{</span> dump<span class="token punctuation">(</span>post<span class="token punctuation">.</span>meta<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token delimiter punctuation">}}</span></span><br><span class="token twig language-twig"><span class="token delimiter punctuation">{{</span> dump<span class="token punctuation">(</span>post<span class="token punctuation">.</span>raw_meta<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token delimiter punctuation">}}</span></span></code></pre><p>This is only recommended <strong>for development purposes</strong>, because it might affect your performance if you always request all values.</p><h3 id="performance" tabindex="-1">Performance <a class="directLink" href="#performance">#</a></h3><p>You might be tempted to set variables for repeated calls to <code>meta()</code> or <code>raw_meta()</code> in Twig to save performance. This is not really necessary. Timber uses <code>get_post_meta()</code> internally, which fetches all meta values for an object from the database when the first value is requested and caches the meta values for later meta requests. The only thing you will be bypassing are a couple of filters, which is unlikely to result in a performance savings.</p><p>For example, in most cases itâ€™s totally fine to use <code>meta()</code> in an if statement before using it again to display the value:</p><pre class="language-twig"><code class="language-twig"><span class="token twig language-twig"><span class="token delimiter punctuation">{%</span> <span class="token tag-name keyword">if</span> book<span class="token punctuation">.</span>meta<span class="token punctuation">(</span><span class="token string"><span class="token punctuation">'</span>author<span class="token punctuation">'</span></span><span class="token punctuation">)</span> <span class="token delimiter punctuation">%}</span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span>Author<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span><span class="token twig language-twig"><span class="token delimiter punctuation">{{</span> book<span class="token punctuation">.</span>meta<span class="token punctuation">(</span><span class="token string"><span class="token punctuation">'</span>author<span class="token punctuation">'</span></span><span class="token punctuation">)</span> <span class="token delimiter punctuation">}}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><br><span class="token twig language-twig"><span class="token delimiter punctuation">{%</span> <span class="token tag-name keyword">endif</span> <span class="token delimiter punctuation">%}</span></span></code></pre><p>However, you should be careful when you use custom field plugins like Advanced Custom Fields, where a lot of processing can happen in filters (like with repeaters or flexible content fields). Here, you might want to cache the result of the meta function either in PHP or in Twig:</p><pre class="language-twig"><code class="language-twig"><span class="token twig language-twig"><span class="token delimiter punctuation">{%</span> <span class="token tag-name keyword">set</span> gear_items <span class="token operator">=</span> post<span class="token punctuation">.</span>meta<span class="token punctuation">(</span><span class="token string"><span class="token punctuation">'</span>gear_items<span class="token punctuation">'</span></span><span class="token punctuation">)</span> <span class="token delimiter punctuation">%}</span></span><br><br><span class="token twig language-twig"><span class="token delimiter punctuation">{%</span> <span class="token tag-name keyword">if</span> gear_items <span class="token delimiter punctuation">%}</span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>Gear Items<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span><br><br>    <span class="token twig language-twig"><span class="token delimiter punctuation">{%</span> <span class="token tag-name keyword">for</span> gear <span class="token operator">in</span> gear_items <span class="token delimiter punctuation">%}</span></span><br>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span><span class="token twig language-twig"><span class="token delimiter punctuation">{{</span> gear<span class="token punctuation">.</span>brand_name <span class="token delimiter punctuation">}}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span><br><br>        <span class="token twig language-twig"><span class="token delimiter punctuation">{%</span> <span class="token tag-name keyword">for</span> gear_feature <span class="token operator">in</span> gear<span class="token punctuation">.</span>features <span class="token delimiter punctuation">%}</span></span><br>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token twig language-twig"><span class="token delimiter punctuation">{{</span> gear_feature <span class="token delimiter punctuation">}}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><br>        <span class="token twig language-twig"><span class="token delimiter punctuation">{%</span> <span class="token tag-name keyword">endfor</span> <span class="token delimiter punctuation">%}</span></span><br>    <span class="token twig language-twig"><span class="token delimiter punctuation">{%</span> <span class="token tag-name keyword">endfor</span> <span class="token delimiter punctuation">%}</span></span><br><span class="token twig language-twig"><span class="token delimiter punctuation">{%</span> <span class="token tag-name keyword">endif</span> <span class="token delimiter punctuation">%}</span></span></code></pre><p>You might also think that you could load all meta values by not passing a field name and access all required values from there. You shouldnâ€™t do this either, because then a lot of filters might run that you wonâ€™t need.</p><p><strong>DONâ€™T DO THIS</strong></p><pre class="language-twig"><code class="language-twig"><span class="token twig language-twig"><span class="token delimiter punctuation">{%</span> <span class="token tag-name keyword">set</span> meta <span class="token operator">=</span> book<span class="token punctuation">.</span>meta<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token delimiter punctuation">%}</span></span><br><br><span class="token twig language-twig"><span class="token delimiter punctuation">{%</span> <span class="token tag-name keyword">if</span> meta<span class="token punctuation">.</span>author <span class="token delimiter punctuation">%}</span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span>Author<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span><span class="token twig language-twig"><span class="token delimiter punctuation">{{</span> meta<span class="token punctuation">.</span>author <span class="token delimiter punctuation">}}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><br><span class="token twig language-twig"><span class="token delimiter punctuation">{%</span> <span class="token tag-name keyword">endif</span> <span class="token delimiter punctuation">%}</span></span></code></pre><h2 id="site-options" tabindex="-1">Site options <a class="directLink" href="#site-options">#</a></h2><p>You can get site options through a similar method. Instead of <code>meta()</code>, itâ€™s called <code>option()</code>. Hereâ€™s an example to retrieve the admin email address:</p><pre class="language-twig"><code class="language-twig"><span class="token twig language-twig"><span class="token delimiter punctuation">{{</span> site<span class="token punctuation">.</span>option<span class="token punctuation">(</span><span class="token string"><span class="token punctuation">'</span>admin_email<span class="token punctuation">'</span></span><span class="token punctuation">)</span> <span class="token delimiter punctuation">}}</span></span></code></pre><p>For site options, itâ€™s also possible to access it directly through its name:</p><pre class="language-twig"><code class="language-twig"><span class="token twig language-twig"><span class="token delimiter punctuation">{{</span> site<span class="token punctuation">.</span>admin_email <span class="token delimiter punctuation">}}</span></span></code></pre><p>Please be aware that using this might conflict with existing Timber methods on the <code>Timber\Site</code> object. Thatâ€™s why the <code>option()</code> method is the preferred way to retrieve site options.</p><h2 id="query-by-custom-field-value" tabindex="-1">Query by custom field value <a class="directLink" href="#query-by-custom-field-value">#</a></h2><p>This example that uses a <a href="http://codex.wordpress.org/Class_Reference/WP_Query">WP_Query</a> array shows the arguments to find all posts where a custom field called <code>color</code> has a value of <code>red</code>.</p><pre class="language-php"><code class="language-php"><span class="token variable">$args</span> <span class="token operator">=</span> <span class="token punctuation">[</span><br>    <span class="token string single-quoted-string">'posts_per_page'</span> <span class="token operator">=></span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><br>    <span class="token string single-quoted-string">'post_type'</span> <span class="token operator">=></span> <span class="token string single-quoted-string">'post'</span><span class="token punctuation">,</span><br>    <span class="token string single-quoted-string">'meta_key'</span> <span class="token operator">=></span> <span class="token string single-quoted-string">'color'</span><span class="token punctuation">,</span><br>    <span class="token string single-quoted-string">'meta_value'</span> <span class="token operator">=></span> <span class="token string single-quoted-string">'red'</span><span class="token punctuation">,</span><br><span class="token punctuation">]</span><span class="token punctuation">;</span><br><br><span class="token variable">$context</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'posts'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token class-name static-context">Timber</span><span class="token operator">::</span><span class="token function">get_posts</span><span class="token punctuation">(</span><span class="token variable">$args</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></article></main></div><script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script><script>docsearch({
    appId: '7REN4GR6X4',
    apiKey: '9acbf22ef9a9b117a0f9ba50bd2f4280',
    /**
     * Timber config.
     *
     * @link https://github.com/algolia/docsearch-configs/blob/master/configs/timber.json
     */
    indexName: 'timber',
    container: '#docsearch',
    /**
     * Filter for different doc versions.
     *
     * @link https://www.algolia.com/doc/api-reference/api-parameters/facetFilters/
     */
    searchParameters: {
      facetFilters: ['version:v2']
    },
    // Set debug to true if you want to inspect the dropdown.
    // debug: true
  })</script></body></html>