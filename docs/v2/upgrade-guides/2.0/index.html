<!doctype html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-126807198-1"></script><script>window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'UA-126807198-1');</script><title>Upgrade to 2.0 â€“ Timber Documentation</title><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="robots" content="noindex"><meta name="docsearch:version" content="v2"><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css"><link rel="stylesheet" href="/docs/build/css/styles.css?id=4ad65e61875327798b94"><link rel="stylesheet" href="/docs/build/css/mobile.css?id=29c5a2ca19eb3669315e" media="screen and (max-width: 979px)"><script src="/docs/build/js/app.js?id=e51c53f0441136cbf958" defer="defer"></script><link rel="icon" href="/docs/build/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon-precomposed" sizes="57x57" href="/docs/build/favicons/apple-touch-icon-57x57.png"><link rel="apple-touch-icon-precomposed" sizes="114x114" href="/docs/build/favicons/apple-touch-icon-114x114.png"><link rel="apple-touch-icon-precomposed" sizes="72x72" href="/docs/build/favicons/apple-touch-icon-72x72.png"><link rel="apple-touch-icon-precomposed" sizes="144x144" href="/docs/build/favicons/apple-touch-icon-144x144.png"><link rel="apple-touch-icon-precomposed" sizes="60x60" href="/docs/build/favicons/apple-touch-icon-60x60.png"><link rel="apple-touch-icon-precomposed" sizes="120x120" href="/docs/build/favicons/apple-touch-icon-120x120.png"><link rel="apple-touch-icon-precomposed" sizes="76x76" href="favicons/apple-touch-icon-76x76.png"><link rel="apple-touch-icon-precomposed" sizes="152x152" href="favicons/apple-touch-icon-152x152.png"><link rel="icon" type="image/png" href="/docs/build/favicons/favicon-196x196.png" sizes="196x196"><link rel="icon" type="image/png" href="/docs/build/favicons/favicon-96x96.png" sizes="96x96"><link rel="icon" type="image/png" href="/docs/build/favicons/favicon-32x32.png" sizes="32x32"><link rel="icon" type="image/png" href="/docs/build/favicons/favicon-16x16.png" sizes="16x16"><link rel="icon" type="image/png" href="/docs/build/favicons/favicon-128.png" sizes="128x128"><meta name="application-name" content="Timber Documentation"><meta name="msapplication-TileColor" content="#FFFFFF"><meta name="msapplication-TileImage" content="/docs/build/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="/docs/build/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="/docs/build/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="/docs/build/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="/docs/build/favicons/mstile-310x310.png"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@TimberWP"><meta name="twitter:title" content="Timber for WordPress Documentation"><meta name="twitter:description" content="Create WordPress themes with beautiful OOP code and the Twig Template Engine"><meta name="twitter:image" content="https://repository-images.githubusercontent.com/7413451/06c62480-b95c-11ea-8b35-b5dd97d070f1"></head><body><header class="header"><div class="logoContainer"><a href="/docs/"><img src="/docs/build/img/timber-logo.svg" alt="Timber Logo" style="width: 105px; height: 30px; border: 0" role="img"></a></div><div class="search"><label for="search-input" class="sr-only">Search</label> <input type="search" name="search" class="search-input" id="search-input" placeholder="Search the docs"><div class="search-icon" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12z"></path></svg></div></div><nav class="navTop" id="nav-top"><ul><li><a href="http://upstatement.com/timber/" target="_blank" rel="noreferrer noopener">About Timber</a></li><li><a href="http://twig.sensiolabs.org/doc/templates.html" target="_blank" rel="noreferrer noopener">Twig Docs</a></li><li><a href="https://github.com/timber/timber" target="_blank" rel="noreferrer noopener"><img src="/docs/build/img/github.png" alt="Star on Github" style="width: 29px; height: 29px; border: 0"></a></li></ul></nav><button class="navMobileToggle js-menu-open" type="button" id="nav-mobile-toggle"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 34"><path d="M45.6,19.43H2.4a2.43,2.43,0,0,1,0-4.86H45.6a2.43,2.43,0,0,1,0,4.86Z"/><path d="M45.6,4.86H2.4A2.41,2.41,0,0,1,0,2.43,2.41,2.41,0,0,1,2.4,0H45.6A2.41,2.41,0,0,1,48,2.43,2.41,2.41,0,0,1,45.6,4.86Z"/><path d="M45.6,34H2.4a2.43,2.43,0,0,1,0-4.86H45.6a2.43,2.43,0,0,1,0,4.86Z"/></svg> <span class="sr-only">Menu</span></button></header><div class="wrapper"><aside class="sidebar slideup-menu" id="sidebar" data-turbolinks-keep-scroll-position><button class="navClose js-menu-close" type="button"><div class="navClose-icon" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><path d="M3.43,48A3.43,3.43,0,0,1,1,42.15L42.15,1A3.43,3.43,0,1,1,47,5.85L5.85,47A3.4,3.4,0,0,1,3.43,48Z"/><path d="M44.57,48a3.4,3.4,0,0,1-2.42-1L1,5.85A3.43,3.43,0,0,1,5.85,1L47,42.15A3.43,3.43,0,0,1,44.57,48Z"/></svg></div><span class="sr-only">Close Menu</span></button><nav class="navVersions"><ul><li><a href="/docs/">v1.0</a></li><li><a href="/docs/v2" class="is-current">v2.0 DEV</a></li></ul></nav><nav id="nav-main" class="navMain"><ul class="navMain-sections"><li class="navMain-section"><h3 class="navMain-title">Installation</h3><ul class="navMain-items"><li class="navMain-item" data-order="10"><a class="navMain-link" href="/docs/v2/installation/">Installation</a></li><li class="navMain-item" data-order="30"><a class="navMain-link" href="/docs/v2/installation/manage-timber-with-composer/">Managing Timber with Composer</a></li></ul></li><li class="navMain-section"><h3 class="navMain-title">Getting Started</h3><ul class="navMain-items"><li class="navMain-item" data-order="100"><a class="navMain-link" href="/docs/v2/getting-started/introduction/">Introduction</a></li><li class="navMain-item" data-order="200"><a class="navMain-link" href="/docs/v2/getting-started/template-inheritance-and-includes/">Template inheritance and includes</a></li><li class="navMain-item" data-order="300"><a class="navMain-link" href="/docs/v2/getting-started/a-single-post/">A single post</a></li><li class="navMain-item" data-order="400"><a class="navMain-link" href="/docs/v2/getting-started/a-post-archive/">A post archive</a></li></ul></li><li class="navMain-section"><h3 class="navMain-title">Guides</h3><ul class="navMain-items"><li class="navMain-item" data-order="50"><a class="navMain-link" href="/docs/v2/guides/context/">Context</a></li><li class="navMain-item" data-order="75"><a class="navMain-link" href="/docs/v2/guides/template-locations/">Template Locations</a></li><li class="navMain-item" data-order="100"><a class="navMain-link" href="/docs/v2/guides/wp-integration/">WordPress Integration</a></li><li class="navMain-item" data-order="140"><a class="navMain-link" href="/docs/v2/guides/comments/">Comments</a></li><li class="navMain-item" data-order="150"><a class="navMain-link" href="/docs/v2/guides/menus/">Menus</a></li><li class="navMain-item" data-order="200"><a class="navMain-link" href="/docs/v2/guides/cookbook-twig/">Twig Cookbook</a></li><li class="navMain-item" data-order="300"><a class="navMain-link" href="/docs/v2/guides/cookbook-text/">Text Cookbook</a></li><li class="navMain-item" data-order="400"><a class="navMain-link" href="/docs/v2/guides/escaping/">Escaping</a></li><li class="navMain-item" data-order="500"><a class="navMain-link" href="/docs/v2/guides/custom-page-templates/">Custom Page Templates</a></li><li class="navMain-item" data-order="600"><a class="navMain-link" href="/docs/v2/guides/custom-fields/">Custom Fields</a></li><li class="navMain-item" data-order="800"><a class="navMain-link" href="/docs/v2/guides/functions/">Functions</a></li><li class="navMain-item" data-order="900"><a class="navMain-link" href="/docs/v2/guides/filters/">Filters</a></li><li class="navMain-item" data-order="1000"><a class="navMain-link" href="/docs/v2/guides/cookbook-images/">Image Cookbook</a></li><li class="navMain-item" data-order="1100"><a class="navMain-link" href="/docs/v2/guides/pagination/">Pagination</a></li><li class="navMain-item" data-order="1200"><a class="navMain-link" href="/docs/v2/guides/sidebars/">Sidebars</a></li><li class="navMain-item" data-order="1300"><a class="navMain-link" href="/docs/v2/guides/performance/">Performance/Caching</a></li><li class="navMain-item" data-order="1350"><a class="navMain-link" href="/docs/v2/guides/date-time/">Date/Time in Timber</a></li><li class="navMain-item" data-order="1400"><a class="navMain-link" href="/docs/v2/guides/internationalization/">Internationalization</a></li><li class="navMain-item" data-order="1500"><a class="navMain-link" href="/docs/v2/guides/cheatsheet/">Cheatsheet</a></li><li class="navMain-item" data-order="1600"><a class="navMain-link" href="/docs/v2/guides/extending-timber/">Extending Timber</a></li><li class="navMain-item" data-order="1800"><a class="navMain-link" href="/docs/v2/guides/debugging/">Debugging</a></li><li class="navMain-item" data-order="1900"><a class="navMain-link" href="/docs/v2/guides/testing/">Automated Testing</a></li><li class="navMain-item" data-order="2000"><a class="navMain-link" href="/docs/v2/guides/routing/">Routing</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/guides/gutenberg/">Gutenberg</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/guides/woocommerce/">WooCommerce</a></li></ul></li><li class="navMain-section"><h3 class="navMain-title">Reference</h3><ul class="navMain-items"><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-archives/">Archives</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-attachment/">Attachment</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-comment/">Comment</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-datetimehelper/">DateTimeHelper</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-image/">Image</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-imagehelper/">ImageHelper</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-menu/">Menu</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-menuitem/">MenuItem</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-pagination/">Pagination</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-pathhelper/">PathHelper</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-post/">Post</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-postcollection/">PostCollection</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-postquery/">PostQuery</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-site/">Site</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-term/">Term</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-texthelper/">TextHelper</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-theme/">Theme</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-timber/">Timber</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-urlhelper/">URLHelper</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-user/">User</a></li></ul></li><li class="navMain-section"><h3 class="navMain-title">Hooks</h3><ul class="navMain-items"><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/hooks/actions/">Action Hooks</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/hooks/filters/">Filter Hooks</a></li></ul></li><li class="navMain-section"><h3 class="navMain-title">Integrations</h3><ul class="navMain-items"><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/integrations/advanced-custom-fields/">Advanced Custom Fields</a></li></ul></li><li class="navMain-section"><h3 class="navMain-title navMain-sectionTitle">Upgrade Guides</h3><ul class="navMain-items"><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/upgrade-guides/1.0/">Upgrade to 1.0</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/upgrade-guides/2.0/" aria-current>Upgrade to 2.0</a></li></ul></li><li class="navMain-section"><h3 class="navMain-title">Contributing</h3><ul class="navMain-items"><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/contributing/">Contributing to Timber</a></li></ul></li></ul></nav></aside><main><div class="globalCallout"><h2>Version 2 ðŸ‘‹</h2><p>Youâ€™re looking at the documentation for version 2 of Timber, which is <strong>still in development</strong>. You canâ€™t use it yet, but you may have a look at the <a href="https://timber.github.io/docs/v2/upgrade-guides/2.0/">upcoming changes</a>.</p><p>Follow us on <a href="https://twitter.com/TimberWP">Twitter</a> or start <a href="https://help.github.com/en/enterprise/2.15/user/articles/watching-and-unwatching-repositories#watching-a-single-repository">watching new releases</a> of our <a href="https://github.com/timber/timber/">GitHub repository</a> to be notified about a version you can use.</p></div><article><h1>Upgrade to 2.0</h1><aside><h2 class="heading-small">On this page</h2><nav class="toc"><ol><li><a href="#no-context-argument-when-calling-an-action-in-twig">No context argument when calling an action in Twig</a></li><li><a href="#drops-php-5-support">Drops PHP 5 support</a></li><li><a href="#new-attachment-class">New Attachment class</a></li><li><a href="#no-more-plugin-support">No more plugin support</a></li><li><a href="#drops-wordpress-5.2-and-earlier-support">Drops WordPress 5.2 and earlier support</a></li><li><a href="#deprecated-functions-and-variables">Deprecated functions and variables</a><ol><li><a href="#timber\timber-2">Timber\Timber</a></li><li><a href="#timber\post">Timber\Post</a></li><li><a href="#timber\site">Timber\Site</a></li><li><a href="#timber\twig">Timber\Twig</a></li></ol></li><li><a href="#context">Context</a><ol><li><a href="#global-context">Global context</a></li><li><a href="#template-context">Template context</a></li></ol></li><li><a href="#namespaced-class-names">Namespaced class names</a><ol><li><a href="#timber\timber">Timber\Timber</a></li><li><a href="#twig">Twig</a></li><li><a href="#twig-classes">Twig classes</a></li></ol></li><li><a href="#only-static-methods-to-get-posts">Only static methods to get posts</a><ol><li><a href="#use-timberget_post-instead-of-new-timber\post">Use Timber::get_post() instead of new Timber\Post()</a></li><li><a href="#use-timberget_posts-instead-of-new-timber\postquery">Use Timber::get_posts() instead of new Timber\PostQuery()</a></li></ol></li><li><a href="#twig-2">Twig</a><ol><li><a href="#namespaced-twig-locations">Namespaced Twig locations</a></li><li><a href="#better-compatibility-with-twig-date-functions">Better compatibility with Twig date functions</a></li><li><a href="#deprecated-twig-filters">Deprecated Twig filters</a></li></ol></li><li><a href="#meta">Meta</a><ol><li><a href="#deprecating-direct-access-to-meta-values">Deprecating direct access to meta values</a></li><li><a href="#access-meta-values-through-meta">Access meta values through meta()</a></li><li><a href="#access-raw-meta-values">Access raw meta values</a></li><li><a href="#the-custom-property">The custom property</a></li></ol></li><li><a href="#routes">Routes</a></li><li><a href="#removed-functions-and-properties">Removed functions and properties</a><ol><li><a href="#timber\timber-3">Timber\Timber</a></li><li><a href="#timber\site-2">Timber\Site</a></li><li><a href="#timber\post-2">Timber\Post</a></li><li><a href="#timber\term">Timber\Term</a></li><li><a href="#timber\image">Timber\Image</a></li><li><a href="#timber\menuitem">Timber\MenuItem</a></li><li><a href="#timber\user">Timber\User</a></li><li><a href="#timber\comment">Timber\Comment</a></li><li><a href="#timber\helper">Timber\Helper</a></li></ol></li><li><a href="#new-functions">New functions</a></li><li><a href="#new/updated-functions">New/Updated functions</a><ol><li><a href="#timber\postterms">Timber\Post::terms()</a></li><li><a href="#post.excerpt-takes-arguments-in-array/hash-notation">post.excerpt takes arguments in array/hash notation</a></li></ol></li><li><a href="#hooks">Hooks</a><ol><li><a href="#deprecated-hooks">Deprecated hooks</a></li><li><a href="#deprecated-without-replacement">Deprecated without replacement</a></li><li><a href="#timber/term/meta">timber/term/meta</a></li><li><a href="#new-hooks">New hooks</a></li></ol></li><li><a href="#escaping">Escaping</a></li><li><a href="#documentation">Documentation</a></li></ol></nav></aside><div class="content"><p>Version 2.0 of Timber removes a lot of deprecated code and tries to make naming of functions and filter more consistent.</p><h2 id="drops-php-5-support">Drops PHP 5 support <a class="directLink" href="#drops-php-5-support">#</a></h2><p>Timber 2.0 requires you to use a PHP version &gt;= <code>7.0</code>.</p><h2 id="drops-wordpress-5.2-and-earlier-support">Drops WordPress 5.2 and earlier support <a class="directLink" href="#drops-wordpress-5.2-and-earlier-support">#</a></h2><p>Timber 2.0 requires WordPress 5.3 or greater. This was in order to take advantage of new <a href="https://make.wordpress.org/core/2019/09/23/date-time-improvements-wp-5-3/">date/time improvements</a> built into WordPress. If you need to use WordPress 5.2 or earlier, please continue to use Timber 1.x.</p><h2 id="no-more-plugin-support">No more plugin support <a class="directLink" href="#no-more-plugin-support">#</a></h2><p>As of version 2.0, you canâ€™t install Timber as a plugin. You need to install it through Composer. Follow the <a href="https://timber.github.io/docs/v2/getting-started/setup/">Setup Guide</a> for how to install Timber. Timber will continue to exist as a WordPress plugin in version 1.x.</p><h2 id="namespaced-class-names">Namespaced class names <a class="directLink" href="#namespaced-class-names">#</a></h2><p>Namespaced class names were already introduced in Timber version 1.0. Up until now, you could still the use the old, non-namespaced class names. Only namespaced class names are used now. In version 2.0, we removed the following class aliases:</p><ul><li><code>TimberArchives</code>, use <code>Timber\Archives</code> instead</li><li><code>TimberComment</code>, use <code>Timber\Comment</code> instead</li><li><code>TimberCore</code>, use <code>Timber\Core</code> instead</li><li><code>TimberFunctionWrapper</code>, use <code>Timber\FunctionWrapper</code> instead</li><li><code>TimberHelper</code>, use <code>Timber\Helper</code> instead</li><li><code>TimberImage</code>, use <code>Timber\Image</code> instead</li><li><code>TimberImageHelper</code>, use <code>Timber\ImageHelper</code> instead</li><li><code>TimberIntegrations</code>, use <code>Timber\Integrations</code> instead</li><li><code>TimberLoader</code>, use <code>Timber\Loader</code> instead</li><li><code>TimberMenu</code>, use <code>Timber\Menu</code> instead</li><li><code>TimberMenuItem</code>, use <code>Timber\MenuItem</code> instead</li><li><code>TimberPost</code>, use <code>Timber\Post</code> instead</li><li><code>TimberPostGetter</code>, use <code>Timber\PostGetter</code> instead</li><li><code>TimberPostCollection</code>, use <code>Timber\PostCollection</code> instead</li><li><code>Timber\PostsCollection</code>, use <code>Timber\PostCollection</code> instead</li><li><code>TimberQueryIterator</code>, use <code>Timber\QueryIterator</code> instead</li><li><code>TimberRequest</code>, use <code>Timber\Request</code> instead</li><li><code>TimberSite</code>, use <code>Timber\Site</code> instead</li><li><code>TimberTerm</code>, use <code>Timber\Term</code> instead</li><li><code>TimberTermGetter</code>, use <code>Timber\TermGetter</code> instead</li><li><code>TimberTheme</code>, use <code>Timber\Theme</code> instead</li><li><code>TimberTwig</code>, use <code>Timber\Twig</code> instead</li><li><code>TimberURLHelper</code>, use <code>Timber\URLHelper</code> instead</li><li><code>TimberUser</code>, use <code>Timber\User</code> instead</li><li><code>TimberCommand</code>, use <code>Timber\Command</code> instead</li><li><code>Timber_WP_CLI_Command</code>, use <code>Timber\Timber_WP_CLI_Command</code> instead</li></ul><h3 id="timber\timber">Timber\Timber <a class="directLink" href="#timber\timber">#</a></h3><p>A special case is the class alias <code>Timber</code> for the <code>Timber\Timber</code> class. We decided to keep it, because itâ€™s more convenient to write <code>Timber::render()</code> instead of <code>Timber\Timber::render()</code>.</p><h3 id="twig">Twig <a class="directLink" href="#twig">#</a></h3><p>The same goes for Timber classes in Twig. We realized thereâ€™s no need to have a Â«TimberÂ» prefix. We can directly use <code>Post</code>, <code>Image</code>, <code>Term</code> and <code>User</code>. The following functions are now deprecated:</p><ul><li><code>{{ TimberPost() }}</code> â€“ use <code>{{ Post() }}</code> instead</li><li><code>{{ TimberImage() }}</code> â€“ use <code>{{ Image() }}</code> instead</li><li><code>{{ TimberTerm() }}</code> â€“ use <code>{{ Term() }}</code> instead</li><li><code>{{ TimberUser() }}</code> â€“ use <code>{{ User() }}</code> instead</li></ul><h3 id="twig-classes">Twig classes <a class="directLink" href="#twig-classes">#</a></h3><p>Timber now requires Twig in a version &gt;= 2.4. This means that Twig comes with its own namespaced classes:</p><ul><li>Instead of <code>Twig_Function</code> or <code>Twig_SimpleFunction</code>, you need to use <code>Twig\TwigFunction</code>.</li><li>Instead of <code>Twig_Filter</code> or <code>Twig_SimpleFilter</code>, you need to use <code>Twig\TwigFilter</code>.</li><li>Instead of <code>Twig_Environment</code>, you need to use <code>Twig\Environment</code>.</li></ul><p>You maybe use one of those classes with the <code>timber/twig</code> filter. Make sure you update them.</p><p>In Timber 1.x, we used to have <code>Timber\Twig_Function</code> and <code>Timber\Twig_Filter</code> as interim classes that could be used for better compatibility with the different class names that exist with Twig. These are now removed as well. Use the classes <code>Twig\TwigFunction</code> and <code>Twig\TwigFilter</code> instead.</p><h2 id="only-static-methods-to-get-posts">Only static methods to get posts <a class="directLink" href="#only-static-methods-to-get-posts">#</a></h2><p>Before version 2.0, when you wanted to get a collection of posts, the standard way was to use <code>Timber::get_posts()</code>, and <code>Timber::get_post()</code> to get single posts. But you could also use <code>new Timber\Post()</code> or <code>new Timber\PostQuery()</code>. We deprecated instantating objects directly, you should only use <code>Timber::get_post()</code> and <code>Timber::get_posts()</code>.</p><h3 id="use-timberget_post-instead-of-new-timber\post">Use <code>Timber::get_post()</code> instead of <code>new Timber\Post()</code> <a class="directLink" href="#use-timberget_post-instead-of-new-timber\post">#</a></h3><p><strong>single.php</strong></p><pre class="language-php"><code class="language-php"><span class="token comment">// Figure out post to get from current query</span><br><span class="token variable">$post</span> <span class="token operator">=</span> Timber<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get_post</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token comment">// Pass in a post ID to get a particular post</span><br><span class="token variable">$post</span> <span class="token operator">=</span> Timber<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get_post</span><span class="token punctuation">(</span> <span class="token number">56</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="use-timberget_posts-instead-of-new-timber\postquery">Use <code>Timber::get_posts()</code> instead of <code>new Timber\PostQuery()</code> <a class="directLink" href="#use-timberget_posts-instead-of-new-timber\postquery">#</a></h3><pre class="language-php"><code class="language-php"><span class="token variable">$args</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span><br>    <span class="token single-quoted-string string">'query'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token keyword">array</span><span class="token punctuation">(</span><br>        <span class="token single-quoted-string string">'post_type'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token single-quoted-string string">'book'</span><span class="token punctuation">,</span><br>        <span class="token single-quoted-string string">'posts_per_page'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token number">10</span><span class="token punctuation">,</span><br>        <span class="token single-quoted-string string">'post_status'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token single-quoted-string string">'publish'</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">,</span><br><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token variable">$latest_books</span> <span class="token operator">=</span> Timber<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get_posts</span><span class="token punctuation">(</span> <span class="token variable">$args</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>You can also use PostQuery in Twig. You can pass the parameters in an argument hash (in Twig, <a href="https://mijingo.com/blog/key-value-arrays-in-twig">key-value arrays are called hashes</a>, and you use curly braces <code>{}</code> instead of brackets <code>[]</code> for them).</p><pre class="language-twig"><code class="language-twig"><span class="token comment">{# Hash notation #}</span><br><span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">for</span></span> <span class="token property">post</span> <span class="token operator">in</span> <span class="token property">PostQuery</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>    <span class="token property">post_type</span><span class="token punctuation">:</span> <span class="token string"><span class="token punctuation">'</span>post<span class="token punctuation">'</span></span><span class="token punctuation">,</span><br>    <span class="token property">post_status</span><span class="token punctuation">:</span> <span class="token string"><span class="token punctuation">'</span>publish<span class="token punctuation">'</span></span><span class="token punctuation">,</span><br>    <span class="token property">posts_per_page</span><span class="token punctuation">:</span> <span class="token number">10</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">%}</span></span></span><br>    <span class="token other">&lt;a href="</span><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">post</span><span class="token punctuation">.</span><span class="token property">link</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><span class="token other">"></span><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">post</span><span class="token punctuation">.</span><span class="token property">title</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span></span><br><span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">endfor</span></span> <span class="token rd"><span class="token punctuation">%}</span></span></span></code></pre><h2 id="context">Context <a class="directLink" href="#context">#</a></h2><h3 id="global-context">Global context <a class="directLink" href="#global-context">#</a></h3><p>The context variables <code>{{ wp_head }}</code> and <code>{{ wp_footer }}</code> were removed definitely from the global context. Use <code>{{ function('wp_head') }}</code> and <code>{{ function('wp_footer') }}</code> in your Twig template directly.</p><h3 id="template-context">Template context <a class="directLink" href="#template-context">#</a></h3><p>Version 2.0 introduces the concept of template contexts for Timber. This means that Timber will automatically set <code>post</code> in your context for singular templates and <code>posts</code> for archive templates. Through the context, compatibility for third party plugins will be improved as well. Refer to the new <a href="https://timber.github.io/docs/v2/guides/context/">Context Guide</a> to learn more.</p><p>In short:</p><ul><li>If you use <code>context['post'] = Timber::get_post()</code> or <code>context['posts] = Timber::get_posts()</code> in your template files, you can probably omit these, because the context will do this for you. You might also benefit from better compatibility with third party plugins, because for singular templates, Timber will handle certain globals and hooks when setting up <code>post</code>.</li><li>If you decide to still use <code>context['post] = â€¦</code> in your template file, then wrap your post with <code>Timber::context_post()</code>.</li><li>Itâ€™s now possible to <a href="https://timber.github.io/docs/v2/guides/context/#change-arguments-for-default-query">overwrite the default arguments</a> that are passed to the default query for <code>posts</code>.</li><li>When you need the global context in partials, then use <code>Timber::context_global()</code> to only load the global context.</li></ul><h2 id="twig-2">Twig <a class="directLink" href="#twig-2">#</a></h2><h3 id="namespaced-twig-locations">Namespaced Twig locations <a class="directLink" href="#namespaced-twig-locations">#</a></h3><p>You can now use namespaced Twig locations. Read more about this in the <a href="https://timber.github.io/docs/v2/guides/template-locations/#register-your-own-namespaces">Template Locations Guide</a>.</p><h3 id="better-compatibility-with-twig-date-functions">Better compatibility with Twig date functions <a class="directLink" href="#better-compatibility-with-twig-date-functions">#</a></h3><p>Twig has a <a href="https://twig.symfony.com/doc/filters/date.html"><code>date</code></a> filter as well as a <a href="https://twig.symfony.com/doc/functions/date.html"><code>date()</code></a> function. Timber 2.0 has way better compatibility with this functionality than before. Now, you can use any of the functionality described in Twigâ€™s documentation.</p><p>Timber will automatically load the timezone as well as the default date format from the WordPress settings when you work with dates in Twig. Even if itâ€™s advised in the Twig documentation, you shouldnâ€™t update the timezone in Twig, unless you know what youâ€™re doing:</p><pre class="language-php"><code class="language-php"><span class="token comment">// Donâ€™t do this!</span><br><span class="token variable">$twig</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token punctuation">\</span>Twig<span class="token punctuation">\</span>Environment</span><span class="token punctuation">(</span><span class="token variable">$loader</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token variable">$twig</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">getExtension</span><span class="token punctuation">(</span>\<span class="token package">Twig<span class="token punctuation">\</span>Extension<span class="token punctuation">\</span>CoreExtension</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">setTimezone</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Europe/Paris'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Also refer to the new <a href="https://timber.github.io/docs/v2/guides/date-time/">Date/Time Guide</a> for extended information on working with dates in Timber.</p><h3 id="deprecated-twig-filters">Deprecated Twig filters <a class="directLink" href="#deprecated-twig-filters">#</a></h3><p>The following Twig filters have been deprecated and will be removed in future versions of Timber:</p><ul><li><code>get_class</code></li><li><code>print_r</code></li></ul><p>In addition, the confusingly named (and non-functional) <code>get_type</code> filter has been removed.</p><h2 id="meta">Meta <a class="directLink" href="#meta">#</a></h2><h3 id="deprecating-direct-access-to-meta-values">Deprecating direct access to meta values <a class="directLink" href="#deprecating-direct-access-to-meta-values">#</a></h3><p>In Timber 1.x, it was possible to access meta values via dynamic properties. For example, you could do:</p><pre class="language-twig"><code class="language-twig"><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">post</span><span class="token punctuation">.</span><span class="token property">my_custom_field_name</span> <span class="token rd"><span class="token punctuation">}}</span></span></span></code></pre><p>This is no longer the recommended way to acces meta values, because there might be conflicts with existing Timber methods or properties. For example, if you named a custom field <code>date</code> and accessed it through <code>{{ post.date }}</code>, it wasnâ€™t clear if you would get the postsâ€™s date or the value for your custom field named <code>date</code>.</p><h3 id="access-meta-values-through-meta">Access meta values through meta() <a class="directLink" href="#access-meta-values-through-meta">#</a></h3><p>The <strong>new recommended way to access meta values</strong> is through <code>meta()</code>:</p><pre class="language-twig"><code class="language-twig"><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">post</span><span class="token punctuation">.</span><span class="token property">meta</span><span class="token punctuation">(</span><span class="token string"><span class="token punctuation">'</span>my_custom_field_name<span class="token punctuation">'</span></span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">}}</span></span></span></code></pre><p>This way, your values will be filtered by third party plugins like ACF.</p><h3 id="access-raw-meta-values">Access raw meta values <a class="directLink" href="#access-raw-meta-values">#</a></h3><p>If you want to access the raw and unfiltered value directly from the database instead, you can use the new <code>raw_meta()</code> method:</p><pre class="language-twig"><code class="language-twig"><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">post</span><span class="token punctuation">.</span><span class="token property">raw_meta</span><span class="token punctuation">(</span><span class="token string"><span class="token punctuation">'</span>my_custom_field_name<span class="token punctuation">'</span></span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">}}</span></span></span></code></pre><h3 id="the-custom-property">The custom property <a class="directLink" href="#the-custom-property">#</a></h3><p>Maybe you were also used to use the <code>$custom</code> property on an object:</p><pre class="language-twig"><code class="language-twig"><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">post</span><span class="token punctuation">.</span><span class="token property">custom</span><span class="token punctuation">.</span><span class="token property">my_custom_field_name</span> <span class="token rd"><span class="token punctuation">}}</span></span></span></code></pre><p>This property was <strong>removed</strong> and you can <strong>no longer access meta values through it</strong>. It was only meant as a reference for you to see which meta values exist for an object when you use <code>{{ dump() }}</code> or <code>var_dump()</code>. To access the values, you should always use the <code>meta('field_name')</code> and <code>raw_meta('field_name')</code> methods. If you still need to know which meta values exist on an object, you can use <code>meta()</code> or <code>raw_meta()</code> without a field name:</p><pre class="language-twig"><code class="language-twig"><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">dump</span><span class="token punctuation">(</span><span class="token property">post</span><span class="token punctuation">.</span><span class="token property">meta</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><br><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">dump</span><span class="token punctuation">(</span><span class="token property">post</span><span class="token punctuation">.</span><span class="token property">raw_meta</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">}}</span></span></span></code></pre><p>This is only recommended for development purposes, because it might affect your performance if you always request all values.</p><p>The <code>meta()</code> and <code>raw_meta()</code> methods work the same way for all <code>Timber\Post</code>, <code>Timber\Term</code>, <code>Timber\User</code> and <code>Timber\Comment</code> objects. You can read more about this in the <a href="https://timber.github.io/docs/v2/guides/custom-fields">Custom Fields Guide</a> as well as the <a href="https://timber.github.io/docs/v2/integrations/advanced-custom-fields">ACF Integrations Guide</a>.</p><h2 id="routes">Routes <a class="directLink" href="#routes">#</a></h2><p>The Routing feature was removed in Timber 2.0. Routing in Timber is an edge case. Many of its use cases can usually be solved via existing WordPress functionality. In case you really need Routing, you can use one of the available libraries and hook it into your code. Follow the <a href="https://timber.github.io/docs/v2/guides/routing/">Routing Guide</a> for more information.</p><h2 id="no-context-argument-when-calling-an-action-in-twig">No context argument when calling an action in Twig <a class="directLink" href="#no-context-argument-when-calling-an-action-in-twig">#</a></h2><p>In version 1.x of Timber, you would always get the context as a last argument in the hook function:</p><pre class="language-twig"><code class="language-twig"><span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">do</span></span> <span class="token property">action</span><span class="token punctuation">(</span><span class="token string"><span class="token punctuation">'</span>my_action<span class="token punctuation">'</span></span><span class="token punctuation">,</span> <span class="token string"><span class="token punctuation">'</span>foo<span class="token punctuation">'</span></span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">%}</span></span></span></code></pre><pre class="language-php"><code class="language-php"><span class="token function">add_action</span><span class="token punctuation">(</span> <span class="token single-quoted-string string">'my_action_with_args'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'my_function_with_args'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">function</span> <span class="token function">my_function_with_args</span><span class="token punctuation">(</span> <span class="token variable">$foo</span><span class="token punctuation">,</span> <span class="token variable">$post</span><span class="token punctuation">,</span> <span class="token variable">$context</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">echo</span> <span class="token single-quoted-string string">'I say '</span> <span class="token punctuation">.</span> <span class="token variable">$foo</span> <span class="token punctuation">.</span> <span class="token single-quoted-string string">'!'</span><span class="token punctuation">;</span><br>    <span class="token keyword">echo</span> <span class="token single-quoted-string string">'For the post with title '</span> <span class="token punctuation">.</span> <span class="token variable">$context</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'post'</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">title</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><p>In version 2.0, <strong>a context argument will no longer be passed to the hook function</strong>. Now, if you want anything from the templateâ€™s context, youâ€™ll need to pass in the argument manually:</p><pre class="language-twig"><code class="language-twig"><span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">do</span></span> <span class="token property">action</span><span class="token punctuation">(</span><span class="token string"><span class="token punctuation">'</span>my_action<span class="token punctuation">'</span></span><span class="token punctuation">,</span> <span class="token string"><span class="token punctuation">'</span>foo<span class="token punctuation">'</span></span><span class="token punctuation">,</span> <span class="token property">post</span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">%}</span></span></span></code></pre><pre class="language-php"><code class="language-php"><span class="token function">add_action</span><span class="token punctuation">(</span> <span class="token single-quoted-string string">'my_action_with_args'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'my_function_with_args'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">function</span> <span class="token function">my_function_with_args</span><span class="token punctuation">(</span> <span class="token variable">$foo</span><span class="token punctuation">,</span> <span class="token variable">$post</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">echo</span> <span class="token single-quoted-string string">'I say '</span> <span class="token punctuation">.</span> <span class="token variable">$foo</span> <span class="token punctuation">.</span> <span class="token single-quoted-string string">'!'</span><span class="token punctuation">;</span><br>    <span class="token keyword">echo</span> <span class="token single-quoted-string string">'For the post with title '</span> <span class="token punctuation">.</span> <span class="token variable">$post</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">title</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><h2 id="new-attachment-class">New Attachment class <a class="directLink" href="#new-attachment-class">#</a></h2><p>Up until now, there was only a representation for WordPress image attachments in Timber. With version 2.0, we introduce a new <code>Timber\Attachment</code> class that represents WordPress attachments â€“ also the ones that might not necessarily be images, like PDF files.</p><ul><li>The <code>Timber\Image</code> class now extends the <code>Timber\Attachment</code> class. All your code should already be compatible with this change. But in the future, you might want to use the new <code>Timber\Attachment</code> class if you work with an attachment that is not an image.</li><li>Weâ€™ve added new methods for <code>Timber\Attachment</code>. See the section below (@todo: Add anchor link)</li><li>Weâ€™ve added a new Twig function <code>Attachment()</code>. (@todo: Add link to documentation)</li></ul><h2 id="deprecated-functions-and-variables">Deprecated functions and variables <a class="directLink" href="#deprecated-functions-and-variables">#</a></h2><p>The following functions are being deprecated and will be removed in a future version of Timber.</p><h3 id="timber\timber-2">Timber\Timber <a class="directLink" href="#timber\timber-2">#</a></h3><ul><li><code>get_context()</code> - use <code>context()</code> instead.</li><li><code>Timber::$autoescape</code> â€“ use the <code>timber/twig/environment/options</code> filter instead.</li><li><code>Timber::$twig_cache</code> â€“ use the <code>timber/twig/environment/options</code> filter instead.</li><li><code>Timber::$cache</code> â€“ use the <code>timber/twig/environment/options</code> filter instead.</li></ul><h3 id="timber\post">Timber\Post <a class="directLink" href="#timber\post">#</a></h3><ul><li><code>preview()</code> - use <code>excerpt()</code> instead.</li></ul><h3 id="timber\site">Timber\Site <a class="directLink" href="#timber\site">#</a></h3><ul><li><code>meta()</code> â€“ use <code>option()</code> instead.</li></ul><h3 id="timber\twig">Timber\Twig <a class="directLink" href="#timber\twig">#</a></h3><ul><li><code>intl_date()</code>, use <code>Timber\DateTimeHelper::wp_date()</code> instead.</li><li><code>time_ago()</code>, use <code>DateTimeHelper::time_ago()</code> instead.</li></ul><h2 id="removed-functions-and-properties">Removed functions and properties <a class="directLink" href="#removed-functions-and-properties">#</a></h2><p>The following functions were <strong>removed from the codebase</strong>, either because they were already deprecated or because theyâ€™re not used anymore.</p><h3 id="timber\timber-3">Timber\Timber <a class="directLink" href="#timber\timber-3">#</a></h3><ul><li><code>add_route()</code> - The routes feature was completely removed in 2.0.</li><li><code>get_pagination()</code> â€“ Use <code>{{ posts.pagination }}</code> instead. Follow the <a href="https://timber.github.io/docs/v2/guides/pagination/">Pagination Guide</a> for more information.</li></ul><h3 id="timber\site-2">Timber\Site <a class="directLink" href="#timber\site-2">#</a></h3><ul><li><code>get_link()</code>, use <code>{{ site.link }}</code> instead</li><li><code>get_url()</code>, use <code>{{ site.link }}</code> instead</li></ul><h3 id="timber\post-2">Timber\Post <a class="directLink" href="#timber\post-2">#</a></h3><ul><li><code>get_author()</code> â€“ use <code>{{ post.author }}</code> instead</li><li><code>get_categories()</code> â€“ use <code>{{ post.categories }}</code> instead</li><li><code>get_category()</code> â€“ use <code>{{ post.category }}</code> instead</li><li><code>get_children()</code> â€“ use <code>{{ post.children }}</code> instead</li><li><code>get_comment_count()</code> â€“ use <code>{{ post.comment_count }}</code> instead</li><li><code>get_comments()</code> â€“ use <code>{{ post.comments }}</code> instead</li><li><code>get_content()</code> â€“ use <code>{{ post.content }}</code> instead</li><li><code>get_edit_url()</code> â€“ use <code>link()</code> instead</li><li><code>get_field()</code> - use <code>{{ post.meta('my_field_name') }}</code> instead</li><li><code>get_format()</code> â€“ use <code>{{ post.format }}</code> instead</li><li><code>get_image()</code> â€“ use <code>{{ Image(post.my_image) }}</code> instead</li><li><code>get_link()</code> â€“ use <code>{{ post.link }}</code> instead</li><li><code>get_modified_author()</code> â€“ use <code>{{ post.modified_author }}</code> instead</li><li><code>get_modified_date()</code> â€“ use <code>{{ post.modified_date }}</code> instead</li><li><code>get_modified_time()</code> â€“ use <code>{{ post.modified_time }}</code> instead</li><li><code>get_next()</code> â€“ use <code>{{ post.next }}</code> instead</li><li><code>get_pagination()</code> â€“ use <code>{{ post.pagination }}</code> instead</li><li><code>get_parent()</code> â€“ use <code>{{ post.parent }}</code> instead</li><li><code>get_path()</code> â€“ use <code>{{ post.path }}</code> instead</li><li><code>get_permalink()</code> â€“ use <code>{{ post.link }}</code> instead</li><li><code>get_post_id_by_name()</code></li><li><code>get_post_type()</code> â€“ use <code>{{ post.type() }}</code> instead</li><li><code>get_prev()</code> â€“ use <code>{{ post.prev }}</code> instead</li><li><code>get_preview()</code> - use `{{ post.excerpt }} instead</li><li><code>get_tags()</code> â€“ use <code>{{ post.tags }}</code> instead</li><li><code>get_terms()</code> â€“ use <code>{{ post.term }}</code> instead</li><li><code>get_thumbnail()</code> â€“ use <code>{{ post.thumbnail }}</code> instead</li><li><code>get_title()</code> â€“ use <code>{{ post.title }}</code> instead</li><li><code>permalink()</code> â€“ use <code>{{ post.link }}</code> instead</li></ul><h3 id="timber\term">Timber\Term <a class="directLink" href="#timber\term">#</a></h3><ul><li><code>get_children()</code> â€“ use <code>{{ term.children }}</code> instead</li><li><code>get_edit_url()</code> â€“ use <code>{{ term.edit_link }}</code> instead</li><li><code>get_link()</code> â€“ use <code>{{ term.link }}</code> instead</li><li><code>get_meta_field()</code> â€“ use <code>{{ term.meta('my_field_name') }}</code> instead</li><li><code>get_path()</code> â€“ use <code>{{ term.path }}</code> instead</li><li><code>get_posts()</code> â€“ use <code>{% for post in term.posts %}</code> instead</li><li><code>update()</code></li></ul><h3 id="timber\image">Timber\Image <a class="directLink" href="#timber\image">#</a></h3><ul><li><code>get_src()</code> â€“ use <code>{{ image.src }}</code> instead</li><li><code>get_url()</code> â€“ use <code>{{ image.src }}</code> instead</li><li><code>url()</code> â€“ use <code>{{ image.src }}</code> instead</li></ul><h3 id="timber\menuitem">Timber\MenuItem <a class="directLink" href="#timber\menuitem">#</a></h3><ul><li><code>get_children()</code> â€“ use <code>{{ item.children }}</code> instead</li><li><code>get_link()</code> â€“ use <code>{{ item.link }}</code> instead</li><li><code>get_path()</code> â€“ use <code>{{ item.path }}</code> instead</li><li><code>permalink()</code> â€“ use <code>{{ item.link }}</code> instead</li></ul><h3 id="timber\user">Timber\User <a class="directLink" href="#timber\user">#</a></h3><ul><li><code>get_meta()</code> â€“ use <code>{{ user.meta('my_field_name') }}</code> instead</li><li><code>get_meta_field()</code> â€“ use <code>{{ user.meta('my_field_name') }}</code> instead</li><li><code>name</code> property â€“ use <code>name()</code> method instead. You can still use <code>{{ user.name }}</code> in Twig.</li></ul><h3 id="timber\comment">Timber\Comment <a class="directLink" href="#timber\comment">#</a></h3><ul><li><code>get_meta_field()</code> - use <code>{{ comment.meta('my_field_name') }}</code> instead</li></ul><h3 id="timber\helper">Timber\Helper <a class="directLink" href="#timber\helper">#</a></h3><ul><li><code>function_wrapper()</code> â€“ use <code>{{ function( 'function_to_call' ) }}</code> instead</li><li><code>trim_words()</code> â€“ use <code>TextHelper::trim_words()</code> instead</li><li><code>close_tags()</code> â€“ use <code>TextHelper::close_tags()</code> instead</li><li><code>get_comment_form()</code> â€“ use <code>{{ function('comment_form') }}</code> instead</li><li><code>paginate_links()</code> â€“ use <code>Pagination::paginate_links()</code> instead</li><li><code>get_current_url()</code> â€“ use <code>Timber\URLHelper::get_current_url()</code> instead</li></ul><h2 id="new-functions">New functions <a class="directLink" href="#new-functions">#</a></h2><p><strong>Timber\Timber</strong></p><ul><li><code>context_global()</code> - Gets the global context.</li><li><code>context_post()</code> - Gets post context for a singular template.</li><li><code>context_posts()</code> - Gets posts context for an archive template.</li></ul><p><strong>Timber\Post</strong></p><ul><li><code>raw_meta()</code> â€“ Gets a post meta value directly from the database.</li></ul><p><strong>Timber\Term</strong></p><ul><li><code>raw_meta()</code> â€“ Gets a term meta value directly from the database.</li></ul><p><strong>Timber\User</strong></p><ul><li><code>raw_meta()</code> â€“ Gets a user meta value directly from the database.</li></ul><p><strong>Timber\Comment</strong></p><ul><li><code>raw_meta()</code> â€“ Gets a comment meta value directly from the database.</li></ul><p><strong>Timber\Menu</strong></p><ul><li><code>current_item()</code> â€“ Gets the current menu item. Read more about this in the <a href="">functionsâ€™s documentation</a> or the <a href="https://timber.github.io/docs/v2/guides/menus/#the-current-menu-item">Menu Guide</a>.</li><li><code>current_top_level_item()</code> â€“ Gets the top level parent of the current menu item.</li></ul><p><strong>Timber\MenuItem</strong></p><ul><li><code>target()</code> â€“ Gets the target of a menu item according to the Â«Open in new tabÂ» option in the menu item options.</li><li><code>is_target_blank()</code> â€“ Checks whether the Â«Open in new tabÂ» option checked in the menu item options in the backend.</li></ul><p><strong>Timber\Attachment</strong></p><ul><li><code>size()</code> - Gets the filesize of an attachment in bytes.</li><li><code>size_raw()</code> - Gets the filesize of an attachment in a human readable format. E.g. <code>16 KB</code> instead of <code>16555 bytes</code>.</li><li><code>extension()</code> - Gets the extension of the attached file.</li></ul><h2 id="new/updated-functions">New/Updated functions <a class="directLink" href="#new/updated-functions">#</a></h2><p><strong>Timber\Timber</strong></p><ul><li><code>get_post_by()</code> â€“ Gets a post by post slug or post title.</li></ul><h3 id="timber\postterms">Timber\Post::terms() <a class="directLink" href="#timber\postterms">#</a></h3><p>The <code>Timber\Term::terms()</code> function already supported using an array of query arguments. But to make it more consistent with how other functions are used in Timber, we changed the signature to use two parameters: <code>$query_args</code> and <code>$options</code>.</p><p><strong>Function Signature</strong></p><pre class="language-php"><code class="language-php"><span class="token comment">// Old</span><br><span class="token keyword">function</span> <span class="token function">terms</span><span class="token punctuation">(</span> <span class="token variable">$args</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$merge</span> <span class="token operator">=</span> <span class="token boolean constant">true</span><span class="token punctuation">,</span> <span class="token variable">$term_class</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span> <span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token comment">// New</span><br><span class="token keyword">function</span> <span class="token function">terms</span><span class="token punctuation">(</span> <span class="token variable">$query_args</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$options</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>Old usage</strong></p><p>In PHP:</p><pre class="language-php"><code class="language-php"><span class="token variable">$terms</span> <span class="token operator">=</span> <span class="token variable">$post</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">terms</span><span class="token punctuation">(</span> <span class="token single-quoted-string string">'category'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token comment">// or</span><br><br><span class="token variable">$terms</span> <span class="token operator">=</span> <span class="token variable">$post</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">terms</span><span class="token punctuation">(</span> <span class="token punctuation">[</span><br>    <span class="token single-quoted-string string">'query'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">[</span><br>        <span class="token single-quoted-string string">'taxonomy'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token single-quoted-string string">'custom_tax'</span><span class="token punctuation">,</span><br>        <span class="token single-quoted-string string">'orderby'</span>  <span class="token operator">=</span><span class="token operator">></span> <span class="token single-quoted-string string">'count'</span><span class="token punctuation">,</span><br>    <span class="token punctuation">]</span><span class="token punctuation">,</span><br>    <span class="token single-quoted-string string">'merge'</span>        <span class="token operator">=</span><span class="token operator">></span> <span class="token boolean constant">false</span><span class="token punctuation">,</span><br><span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>And in Twig:</p><pre class="language-twig"><code class="language-twig"><span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">for</span></span> <span class="token property">term</span> <span class="token operator">in</span> <span class="token property">post</span><span class="token punctuation">.</span><span class="token property">terms</span><span class="token punctuation">(</span><span class="token string"><span class="token punctuation">'</span>category<span class="token punctuation">'</span></span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">%}</span></span></span><br><br><span class="token comment">{# or #}</span><br><br><span class="token other">{% for term in post.terms({<br>    query: {<br>        taxonomy: 'custom_tax',<br>        orderby: 'count'<br>    },<br>    merge: false<br>})}</span></code></pre><p><strong>New usage</strong></p><p>In PHP:</p><pre class="language-php"><code class="language-php"><span class="token variable">$terms</span> <span class="token operator">=</span> <span class="token variable">$post</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">terms</span><span class="token punctuation">(</span> <span class="token punctuation">[</span><br>    <span class="token single-quoted-string string">'taxonomy'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token single-quoted-string string">'category'</span><br><span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token comment">// or</span><br><br><span class="token variable">$terms</span> <span class="token operator">=</span> <span class="token variable">$post</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">terms</span><span class="token punctuation">(</span> <span class="token punctuation">[</span><br>    <span class="token single-quoted-string string">'taxonomy'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token single-quoted-string string">'custom_tax'</span><span class="token punctuation">,</span><br>    <span class="token single-quoted-string string">'orderby'</span>  <span class="token operator">=</span><span class="token operator">></span> <span class="token single-quoted-string string">'count'</span><span class="token punctuation">,</span><br><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><br>    <span class="token single-quoted-string string">'merge'</span>        <span class="token operator">=</span><span class="token operator">></span> <span class="token boolean constant">false</span><span class="token punctuation">,</span><br><span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>And in Twig:</p><pre class="language-twig"><code class="language-twig"><span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">for</span></span> <span class="token property">term</span> <span class="token operator">in</span> <span class="token property">post</span><span class="token punctuation">.</span><span class="token property">terms</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token property">taxonomy</span><span class="token punctuation">:</span> <span class="token string"><span class="token punctuation">'</span>category<span class="token punctuation">'</span></span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">%}</span></span></span><br><br><span class="token comment">{# or #}</span><br><br><span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">for</span></span> <span class="token property">term</span> <span class="token operator">in</span> <span class="token property">post</span><span class="token punctuation">.</span><span class="token property">terms</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>    <span class="token property">taxonomy</span><span class="token punctuation">:</span> <span class="token string"><span class="token punctuation">'</span>custom_tax<span class="token punctuation">'</span></span><span class="token punctuation">,</span><br>    <span class="token property">orderby</span><span class="token punctuation">:</span> <span class="token string"><span class="token punctuation">'</span>count<span class="token punctuation">'</span></span><br><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><br>    <span class="token property">merge</span><span class="token punctuation">:</span> <span class="token boolean">false</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">%}</span></span></span></code></pre><h3 id="post.excerpt-takes-arguments-in-array/hash-notation"><code>post.excerpt</code> takes arguments in array/hash notation <a class="directLink" href="#post.excerpt-takes-arguments-in-array/hash-notation">#</a></h3><p>The <code>{{ post.excerpt }}</code> function was added as a replacement for <code>{{ post.preview }}</code>. When using <code>{{ post.preview }}</code>, you could pass in arguments by chaining them. Itâ€™s now possible to pass in arguments as an array in PHP or in hash style in Twig. This finally cleans up how the previews of posts are handled. Hereâ€™s an example:</p><p><strong>PHP</strong></p><pre class="language-php"><code class="language-php"><span class="token variable">$post</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">excerpt</span><span class="token punctuation">(</span> <span class="token punctuation">[</span><br>    <span class="token single-quoted-string string">'words'</span>     <span class="token operator">=</span><span class="token operator">></span> <span class="token number">50</span><span class="token punctuation">,</span><br>    <span class="token single-quoted-string string">'chars'</span>     <span class="token operator">=</span><span class="token operator">></span> <span class="token boolean constant">false</span><span class="token punctuation">,</span><br>    <span class="token single-quoted-string string">'end'</span>       <span class="token operator">=</span><span class="token operator">></span> <span class="token single-quoted-string string">'&amp;hellip;'</span><span class="token punctuation">,</span><br>    <span class="token single-quoted-string string">'force'</span>     <span class="token operator">=</span><span class="token operator">></span> <span class="token boolean constant">false</span><span class="token punctuation">,</span><br>    <span class="token single-quoted-string string">'strip'</span>     <span class="token operator">=</span><span class="token operator">></span> <span class="token boolean constant">true</span><span class="token punctuation">,</span><br>    <span class="token single-quoted-string string">'read_more'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token single-quoted-string string">'Read More'</span><span class="token punctuation">,</span><br><span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>Twig</strong></p><pre class="language-twig"><code class="language-twig"><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">post</span><span class="token punctuation">.</span><span class="token property">excerpt</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>    <span class="token property">words</span><span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span><br>    <span class="token property">chars</span><span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span><br>    <span class="token property">end</span><span class="token punctuation">:</span> <span class="token string"><span class="token punctuation">"</span>&amp;hellip;<span class="token punctuation">"</span></span><span class="token punctuation">,</span><br>    <span class="token property">force</span><span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span><br>    <span class="token property">strip</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><br>    <span class="token property">read_more</span><span class="token punctuation">:</span> <span class="token string"><span class="token punctuation">"</span>Read More<span class="token punctuation">"</span></span><br><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">}}</span></span></span></code></pre><h2 id="hooks">Hooks <a class="directLink" href="#hooks">#</a></h2><p>In version 1.0, we already introduced some filters and actions that were namespaced with a <code>timber/</code> prefix. In version 2.0, we refactored all filters to have the same naming standard. If you still use an old action or filter, you will see a warning with the name of the new hook. See the Hooks section in the documentation for a documentation of all the current hooks. There, youâ€™ll also see which hooks are deprecated.</p><h3 id="deprecated-hooks">Deprecated hooks <a class="directLink" href="#deprecated-hooks">#</a></h3><p>You should update the following hooks, because they will be removed in a future version of Timber. We use <a href="https://developer.wordpress.org/reference/functions/apply_filters_deprecated/"><code>apply_filters_deprecated()</code></a>, so you should get a proper warning when <code>WP_DEBUG</code> is set to <code>true</code>.</p><p><strong>Timber\Timber</strong></p><ul><li><code>timber_render_file</code>, use <code>timber/render/file</code> instead</li><li><code>timber_render_data</code>, use <code>timber/render/data</code> instead</li><li><code>timber_compile_file</code>, use <code>timber/compile/file</code> instead</li><li><code>timber_compile_data</code>, use <code>timber/compile/data</code> instead</li><li><code>timber_compile_done</code>, use <code>timber/compile/done</code> instead</li></ul><p><strong>Timber\Post</strong></p><ul><li><code>timber_post_get_meta_field_pre</code>, use <code>timber/post/pre_meta</code> instead</li><li><code>timber_post_get_meta_pre</code>, use <code>timber/post/pre_get</code> instead</li><li><code>timber_post_get_meta_field</code>, use <code>timber/post/meta</code> instead</li><li><code>timber_post_get_meta</code>, use <code>timber/post/meta</code> instead</li></ul><p><strong>Timber\Term</strong></p><ul><li><code>timber/term/meta/field</code>, use <code>timber/term/meta</code> instead</li><li><code>timber_term_get_meta_field</code>, use <code>timber/term/meta</code> instead</li><li><code>timber_term_get_meta</code>, use <code>timber/term/meta</code> instead</li></ul><p><strong>Timber\Comment</strong></p><ul><li><code>timber_comment_get_meta_field_pre</code>, use <code>timber/comment/pre_meta</code> instead</li><li><code>timber_comment_get_meta_pre</code>, use <code>timber/comment/pre_meta</code> instead</li><li><code>timber_comment_get_meta_field</code>, use <code>timber/comment/meta</code> instead</li><li><code>timber_comment_get_meta</code>, use <code>timber/comment/meta</code> instead</li></ul><p><strong>Timber\User</strong></p><ul><li><code>timber_user_get_meta_field_pre</code>, use <code>timber/user/pre_meta</code> instead</li><li><code>timber_user_get_meta_pre</code>, use <code>timber/user/pre_meta</code> instead</li><li><code>timber_user_get_meta_field</code>, use <code>timber/user/meta</code> instead</li><li><code>timber_user_get_meta</code>, use <code>timber/user/meta</code> instead</li></ul><p><strong>Timber\Site</strong></p><ul><li><code>timber_site_set_meta</code>, use <code>timber/site/update_option</code> instead</li></ul><p><strong>Timber\Loader</strong></p><ul><li><code>timber/cache/location</code>, use an absolute path in the <code>cache</code> option in the <code>timber/twig/environment/options</code> filter instead.</li><li><code>timber/loader/paths</code>, use <code>timber/locations</code> instead</li></ul><p><strong>Timber\URLHelper</strong></p><p>The following filter names have changed to match the WordPress naming convention for hooks, which says that hooks should be all lowercase:</p><ul><li><code>timber/URLHelper/url_to_file_system/path</code>, use <code>timber/url_helper/url_to_file_system/path</code> instead</li><li><code>timber/URLHelper/file_system_to_url</code>, use <code>timber/url_helper/file_system_to_url</code> instead</li><li><code>timber/URLHelper/get_content_subdir/home_url</code>, use <code>timber/url_helper/get_content_subdir/home_url</code> instead</li></ul><h3 id="deprecated-without-replacement">Deprecated without replacement <a class="directLink" href="#deprecated-without-replacement">#</a></h3><p>The following filters were deprecated without a replacement:</p><ul><li>The filters <code>timber_term_set_meta</code> and <code>timber/term/meta/set</code> were deprecated. They were used by <code>Term::update()</code>, which is now deprecated as well (without a replacement).</li><li>The filter <code>timber_post_getter_get_posts</code> was deprecated, because it was used by <code>Timber::get_posts()</code>, which is now deprecated.</li></ul><h3 id="timber/term/meta">timber/term/meta <a class="directLink" href="#timber/term/meta">#</a></h3><p>If youâ€™ve used <code>timber/term/meta</code> before, you might have to switch to <code>timer/term/get_meta_fields</code>. The <code>timber/term/meta</code> filter was introduced in 2.0 to be used instead of <code>timber/term/meta/field</code> and <code>timber_term_get_meta_field</code>. However, a filter <code>timber/term/meta</code> already existed in <code>Term::get_meta_values()</code> for version 1.0 and was renamed to <code>timber/term/get_meta_fields</code> to match the new naming conventions.</p><h3 id="new-hooks">New hooks <a class="directLink" href="#new-hooks">#</a></h3><p>We added new hooks:</p><p><strong>Timber\Loader</strong></p><ul><li><code>timber/twig/environment/options</code></li></ul><h2 id="escaping">Escaping <a class="directLink" href="#escaping">#</a></h2><p>While Twig has escaping enabled by default, Timber doesnâ€™t automatically enable espacing for Twig. To enable autoescaping in Timber 1.x, you would use <code>Timber::$autoescape = true</code>. The value <code>true</code> was deprecated for Twig 2.0, you now have to use <code>html</code> or <a href="https://twig.symfony.com/doc/2.x/api.html#environment-options">another auto-escaping strategy</a> instead. Youâ€™ll need to use the <code>timber/twig/environment/options</code> filter:</p><pre class="language-php"><code class="language-php"><span class="token function">add_filter</span><span class="token punctuation">(</span> <span class="token single-quoted-string string">'timber/twig/environment/options'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token variable">$options</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span><br>	<span class="token variable">$options</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'autoescape'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'html'</span><span class="token punctuation">;</span><br><br>	<span class="token keyword">return</span> <span class="token variable">$options</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Read more about this in the <a href="@todo">Escaping Guide</a>.</p><h2 id="documentation">Documentation <a class="directLink" href="#documentation">#</a></h2><p>We added a couple of new guides:</p><ul><li><a href="https://timber.github.io/docs/v2/guides/context/">Context Guide</a></li><li><a href="https://timber.github.io/docs/v2/guides/custom-fields">Custom Fields Guide</a>, which is now decoupled from the <a href="https://timber.github.io/docs/v2/integrations/advanced-custom-fields">ACF Integrations Guide</a>.</li></ul></div></article></main></div><script src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script><script>docsearch({
    apiKey: '4907f57b267887b1da360de600656085',
    indexName: 'timber',
    inputSelector: '#search-input',
    debug: true // Set debug to true if you want to inspect the dropdown
  })</script></body></html>